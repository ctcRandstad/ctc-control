"use strict";(self.webpackChunkCTC_PRODUCTION=self.webpackChunkCTC_PRODUCTION||[]).push([[326],{8011:(b,f,a)=>{a.d(f,{H:()=>C});var n=a(6354),h=a(1985),v=a(5312),t=a(3953),x=a(1626);let C=(()=>{class p{constructor(i){this.http=i,this.url=v.c.url,this.server="http://92.54.11.138:3000"}isLogged(i){return this.http.post(this.url+"login/loginUser.php?id=getUserLogin",i).pipe((0,n.T)(e=>e))}sesionOut(i,e){return this.http.post(this.url+"login/loginUser.php?id=sesionOut",{nombreUsuario:i,id:e}).pipe((0,n.T)(s=>s))}loginUrl(i,e,s){return this.http.post(this.url+"login/loginUser.php?id=loginUrl",{id:i,ruta:e,rol:s}).pipe((0,n.T)(l=>l))}getAlertas(i){return this.http.post(this.url+"login/login.php?id=getAlerta",{idServicio:i}).pipe((0,n.T)(e=>e))}getAlertas1(i){return this.http.post(this.url+"login/login.php?id=getAlerta1",{idServicio:i}).pipe((0,n.T)(e=>e))}getAlertas2(i){return this.http.post(this.url+"login/login.php?id=getAlerta2",{idServicio:i}).pipe((0,n.T)(e=>e))}getAlertas3(i){return this.http.post(this.url+"login/login.php?id=getAlerta3",{idServicio:i}).pipe((0,n.T)(e=>e))}getAlertas4(i){return this.http.post(this.url+"login/login.php?id=getAlerta4",{idServicio:i}).pipe((0,n.T)(e=>e))}getAlertas5(i){return this.http.post(this.url+"login/login.php?id=getAlerta5",{idServicio:i}).pipe((0,n.T)(e=>e))}getAlertas6(i){return this.http.post(this.url+"login/login.php?id=getAlerta6",{idServicio:i}).pipe((0,n.T)(e=>e))}verErrorId(i,e,s){return this.http.post(this.url+"login/login.php?id=verErrorId",{nEmpleado:i,fechaTrabajo:e,idServicio:s}).pipe((0,n.T)(l=>l))}verErrorId5(i,e,s){return this.http.post(this.url+"login/login.php?id=verErrorId5",{nEmpleado:i,fechaTrabajo:e,idServicio:s}).pipe((0,n.T)(l=>l))}validarTodo(i,e){return this.http.post(this.url+"login/login.php?id=validarTodo",{alerta:i,idServicio:e}).pipe((0,n.T)(s=>s))}getCaducidadDocumentos(i){return this.http.post(this.url+"login/login.php?id=getCaducidadDocumentos",{idServicio:i}).pipe((0,n.T)(e=>e))}verVacaciones(i){return this.http.post(this.url+"login/login.php?id=verVacaciones",{idServicio:i}).pipe((0,n.T)(e=>e))}eliAlarma(i){return this.http.post(this.url+"login/login.php?id=eliAlarma",{idAV:i}).pipe((0,n.T)(e=>e))}controlHorarioByEmpleado(i,e,s,l){return this.http.post(this.url+"login/login.php?id=controlHorarioByEmpleado",{nEmpleado:i,fecha_inicio:e,fecha_fin:s,idServicio:l}).pipe((0,n.T)(c=>c))}getCreditos(){return this.http.get(this.url+"Sms/getCreditos.php?id=getCreditos").pipe((0,n.T)(i=>i))}enviarSms(i,e,s,l,c,m){return this.http.post(this.url+"Sms/enviarSms.php?id=sms",{nEmpleado:i,telefono:e,id:s,estado:l,mensaje:c,credito:m}).pipe((0,n.T)(u=>u))}enviarSmsValidar(i,e,s,l,c,m){return this.http.post(this.url+"Sms/enviarSms.php?id=enviarSmsValidar",{nEmpleado:i,telefono:e,id:s,estado:l,mensaje:c,credito:m}).pipe((0,n.T)(u=>u))}listen(i){return new h.c(e=>(this.socket.on(i,s=>{e.next(s)}),()=>{}))}emit(i,e){return this.socket.emit(i,e),new h.c(s=>(this.socket.on("hello",l=>{s.next(l)}),()=>{}))}static#t=this.\u0275fac=function(e){return new(e||p)(t.KVO(x.Qq))};static#i=this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},1326:(b,f,a)=>{a.r(f),a.d(f,{AuthModule:()=>O});var n=a(177),h=a(7786);class v{constructor(T,d){}}var t=a(3953),x=a(1831),C=a(8011),p=a(9417);function S(r,T){1&r&&(t.j41(0,"div",25)(1,"strong"),t.EFF(2,"Este usuario ya se encuentra conectado."),t.k0s()())}function i(r,T){if(1&r&&(t.j41(0,"button",26),t.nrm(1,"i",27),t.EFF(2," \xa0 ingresar "),t.k0s()),2&r){t.XpG();const d=t.sdS(6);t.Y8G("disabled",d.invalid)}}function e(r,T){1&r&&(t.j41(0,"div"),t.nrm(1,"div",28)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31)(6,"div",32)(7,"div",33)(8,"div",34)(9,"div",35),t.j41(10,"div",36)(11,"p",37),t.EFF(12,"Cargando p\xe1gina principal..."),t.k0s()()())}const l=[{path:"",children:[{path:"login",component:(()=>{class r{constructor(d,o,g){this.toastrService=d,this.ruta=o,this._service=g,this.user=v,this.estado=!1,this.conectado=!1}ngOnInit(){null!=localStorage.getItem("token")&&this.ruta.navigate(["/principal/empleados"])}login(d){this.user=d.value,this._service.isLogged(this.user).subscribe(o=>{console.log(o),"conectado"==o?(this.conectado=!0,setTimeout(()=>{this.conectado=!1},3e3)):"error"==o?this.toastrService.openToast1("Los datos ingresados son incorrectos","bg-danger text-white","ERROR"):(this.toastrService.openToast1("Datos correctos!","bg-success text-white","OK"),this.estado=!0,localStorage.setItem("token",o.token),localStorage.setItem("rol",btoa(o.rol)),localStorage.setItem("rols",o.rols),localStorage.setItem("usuario",btoa(o.nombreUsuario)),localStorage.setItem("ultima",o.ultimaVez),localStorage.setItem("id",o.idUsuario),localStorage.setItem(btoa("servicio"),btoa(o.idServicio)),localStorage.setItem("foto",o.foto),setTimeout(()=>{this.ruta.navigate("E2020"==o.rol?["./Empleados"]:["./Main"])},2e3))})}static#t=this.\u0275fac=function(o){return new(o||r)(t.rXU(x.c),t.rXU(h.Ix),t.rXU(C.H))};static#i=this.\u0275cmp=t.VBU({type:r,selectors:[["app-login"]],decls:32,vars:3,consts:[["forma","ngForm"],[1,"limiter"],[1,"container-login100"],[1,"wrap-login100"],["data-tilt","",1,"login100-pic","js-tilt"],["src","assets/img/img-01.png","alt","IMG"],[1,"login100-form","validate-form",3,"ngSubmit"],[1,"login100-form-title","bold-900","js-tilt"],[1,"hr"],["data-validate","Valid email is required: ex@abc.xyz",1,"wrap-input100","validate-input"],["autocomplete","off","name","nombreUsuario","required","","ngModel","","type","text","placeholder","Usuario",1,"input100"],[1,"focus-input100"],[1,"symbol-input100"],["aria-hidden","true",1,"fa","fa-user"],["data-validate","Password is required",1,"wrap-input100","validate-input"],["name","password","autocomplete","off","required","","ngModel","","type","password","placeholder","Contrase\xf1a",1,"input100"],["aria-hidden","true",1,"fa","fa-lock"],["class","alert alert-danger",4,"ngIf"],[1,"container-login100-form-btn"],["mdbBtn","","class","login100-form-btn",3,"disabled",4,"ngIf"],[4,"ngIf"],[1,"text-center","p-t-12"],[1,"txt1"],["href","mailto:dpennisi@randstad.com",1,"txt2"],[1,"text-center","p-t-136"],[1,"alert","alert-danger"],["mdbBtn","",1,"login100-form-btn",3,"disabled"],[1,"far","fa-paper-plane","ml-1"],["role","status",1,"spinner-grow","text-primary"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-light"],["role","status",1,"spinner-grow","text-dark"],[1,"text-center"],[1,"color"]],template:function(o,g){if(1&o){const M=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),t.nrm(4,"img",5),t.k0s(),t.j41(5,"form",6,0),t.bIt("ngSubmit",function(){t.eBV(M);const w=t.sdS(6);return t.Njj(g.login(w))}),t.j41(7,"span",7),t.nrm(8,"hr",8)(9,"br"),t.j41(10,"span"),t.EFF(11,"CTC CONTROL"),t.k0s()(),t.j41(12,"div",9),t.nrm(13,"input",10)(14,"span",11),t.j41(15,"span",12),t.nrm(16,"i",13),t.k0s()(),t.j41(17,"div",14),t.nrm(18,"input",15)(19,"span",11),t.j41(20,"span",12),t.nrm(21,"i",16),t.k0s()(),t.DNE(22,S,3,0,"div",17),t.j41(23,"div",18),t.DNE(24,i,3,1,"button",19),t.k0s(),t.DNE(25,e,13,0,"div",20),t.j41(26,"div",21)(27,"span",22),t.EFF(28," Olvido "),t.k0s(),t.j41(29,"a",23),t.EFF(30," Usuario / Contrase\xf1a? "),t.k0s()(),t.nrm(31,"div",24),t.k0s()()()()}2&o&&(t.R7$(22),t.Y8G("ngIf",g.conectado),t.R7$(2),t.Y8G("ngIf",!g.estado),t.R7$(),t.Y8G("ngIf",g.estado))},dependencies:[n.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV],styles:[".limiter[_ngcontent-%COMP%]{width:105%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background:#9053c7}.wrap-login100[_ngcontent-%COMP%]{width:960px;height:650px;background:#fff;border-radius:10px;overflow:hidden;display:flex;flex-wrap:wrap;justify-content:space-between;padding:177px 130px 33px 95px}.login100-pic[_ngcontent-%COMP%]{width:316px;margin-top:-30px}.login100-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.login100-form[_ngcontent-%COMP%]{width:290px;margin-top:-100px}.login100-form-title[_ngcontent-%COMP%]{font-family:Poppins-Bold;font-size:24px;line-height:1.2;text-align:center;width:100%;display:block;padding-bottom:54px}.wrap-input100[_ngcontent-%COMP%]{position:relative;width:100%;z-index:1;margin-bottom:10px}.input100[_ngcontent-%COMP%]{font-family:Poppins-Medium;font-size:15px;display:block;width:100%;background:#e6e6e6;height:50px;border-radius:25px;padding:0 30px 0 68px}.symbol-input100[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;position:absolute;border-radius:25px;bottom:0;left:0;width:100%;height:100%;padding-left:35px;pointer-events:none;color:#666;transition:all .4s}.input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%] + .symbol-input100[_ngcontent-%COMP%]{color:#57b846;padding-left:28px}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;padding-top:20px}.login100-form-btn[_ngcontent-%COMP%]{font-family:Montserrat-Bold;font-size:15px;line-height:1.5;color:#fff;text-transform:uppercase;width:100%;height:50px;border-radius:25px;background:#57b846;display:flex;justify-content:center;align-items:center;padding:0 15px;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background:#333;cursor:pointer}"]})}return r})()},{path:"**",redirectTo:"login"}]}];let c=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#i=this.\u0275mod=t.$C({type:r});static#e=this.\u0275inj=t.G2t({imports:[h.iI.forChild(l)]})}return r})();var m=a(1626),u=a(3903),E=a(8320);let O=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#i=this.\u0275mod=t.$C({type:r});static#e=this.\u0275inj=t.G2t({imports:[n.MD,c,p.YN,u.h.forChild({loader:{provide:u.Wr,useFactory:d=>new E.s(d),deps:[m.Qq]}})]})}return r})()}}]);