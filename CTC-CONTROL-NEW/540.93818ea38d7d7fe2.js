"use strict";(self.webpackChunkCTC_PRODUCTION=self.webpackChunkCTC_PRODUCTION||[]).push([[540],{2540:(ge,T,d)=>{d.r(T),d.d(T,{EncargadosModule:()=>be});var m=d(177),b=d(7786),G=d(9107),x=d(7239),k=d.n(x),t=d(3953),g=d(5932),E=d(1831),v=d(8791),$=d(3296),j=d(5208),F=d(8559),C=d(1576),I=d(1230),c=d(9417),p=d(399);const M=["table"],y=o=>({"h4 text-danger ":o}),H=o=>({"border border-danger":o});function N(o,a){1&o&&t.nrm(0,"div",7)}function X(o,a){if(1&o&&(t.j41(0,"mdb-option",12),t.EFF(1),t.k0s()),2&o){const i=a.$implicit;t.Y8G("value",i.label),t.R7$(),t.JRh(i.label)}}function Y(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",8)(1,"mdb-form-control")(2,"mdb-select",9),t.bIt("valueChange",function(e){t.eBV(i);const n=t.XpG();return t.Njj(n.changeYear(e))}),t.DNE(3,X,2,2,"mdb-option",10),t.k0s(),t.j41(4,"label",11),t.EFF(5,"Seleccione el a\xf1o a consultar"),t.k0s()()()}if(2&o){const i=t.XpG();t.R7$(3),t.Y8G("ngForOf",i.options)}}function B(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," \xa1Es el a\xf1o seleccionado!. "),t.j41(6,"button",16),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.closeAlert())}),t.k0s()()()()}if(2&o){const i=t.XpG();t.R7$(4),t.SpI("",i.anio,"\xa0 ")}}function S(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",35)(1,"button",36),t.bIt("click",function(){t.eBV(i);const e=t.XpG(3);return t.Njj(e.exportAsXLSX())}),t.EFF(2," DESCARGAR LISTADO \xa0"),t.nrm(3,"i",37),t.k0s()()}}function A(o,a){if(1&o){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",39),t.EFF(4),t.k0s(),t.j41(5,"td",39),t.EFF(6),t.k0s(),t.j41(7,"td",39),t.EFF(8),t.k0s(),t.j41(9,"td",39),t.EFF(10),t.k0s(),t.j41(11,"td",40),t.bIt("click",function(){const e=t.eBV(i).$implicit,n=t.XpG(4);return t.Njj(n.empleado(e))}),t.nrm(12,"i",41),t.k0s(),t.nrm(13,"td"),t.k0s()}if(2&o){const i=a.$implicit;t.R7$(2),t.JRh(i.nEmpleado),t.R7$(2),t.JRh(i.empresa),t.R7$(2),t.JRh(i.dni),t.R7$(2),t.JRh(i.nombre),t.R7$(2),t.JRh(i.apellidos)}}function D(o,a){if(1&o&&(t.j41(0,"tbody"),t.DNE(1,A,14,5,"tr",38),t.k0s()),2&o){t.XpG();const i=t.sdS(14);t.R7$(),t.Y8G("ngForOf",i.data)}}function V(o,a){1&o&&(t.qex(0),t.j41(1,"div",42)(2,"span",43),t.nrm(3,"span",44),t.k0s()(),t.j41(4,"p",45),t.EFF(5,"Cargando resultados..."),t.k0s(),t.bVm())}function O(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",20)(1,"div",21)(2,"div",8)(3,"div",22)(4,"div",23)(5,"span",24),t.nrm(6,"i",25),t.k0s(),t.j41(7,"input",26),t.bIt("keyup",function(e){t.eBV(i);const n=t.XpG(2);return t.Njj(n.search(e))}),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG(2);return t.DH7(n.filterQuery,e)||(n.filterQuery=e),t.Njj(e)}),t.k0s()()()(),t.j41(8,"div",8)(9,"div",27),t.EFF(10),t.k0s()(),t.DNE(11,S,4,0,"div",28),t.k0s(),t.j41(12,"div",29)(13,"table",30,0)(16,"thead",31)(17,"tr")(18,"th"),t.EFF(19,"N\xb0 Empleado"),t.k0s(),t.j41(20,"th"),t.EFF(21,"Contrato"),t.k0s(),t.j41(22,"th"),t.EFF(23,"DNI"),t.k0s(),t.j41(24,"th"),t.EFF(25,"Nombre "),t.k0s(),t.j41(26,"th"),t.EFF(27,"Apellidos "),t.k0s(),t.j41(28,"th"),t.EFF(29,"Info"),t.k0s(),t.nrm(30,"th"),t.k0s()(),t.DNE(31,D,2,1,"tbody",32),t.j41(32,"tfoot")(33,"tr")(34,"td",33),t.nrm(35,"mdb-table-pagination",34,1),t.k0s()()()(),t.DNE(37,V,6,0,"ng-container",32),t.k0s()()}if(2&o){const i=t.sdS(15),s=t.sdS(36),e=t.XpG(2);t.R7$(7),t.R50("ngModel",e.filterQuery),t.R7$(3),t.SpI(" Empleados registrados: ",e.dataTotal," "),t.R7$(),t.Y8G("ngIf","A2020"==e.tipoUsuario),t.R7$(2),t.Y8G("dataSource",e.data)("sort",i)("pagination",s),t.R7$(18),t.Y8G("ngIf",e.dataTotal>0&&!e.loadingHoras),t.R7$(6),t.Y8G("ngIf",e.loadingHoras)}}function J(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",66),t.bIt("click",function(){t.eBV(i);const e=t.XpG(3);return t.Njj(e.print("v-pills-profile",e.employees.apellidos))}),t.nrm(1,"img",67),t.k0s()}if(2&o){const i=t.XpG(3);t.R7$(),t.Y8G("src",i.employees.foto,t.B4B)}}function w(o,a){if(1&o&&(t.j41(0,"div",7),t.nrm(1,"img",67),t.k0s()),2&o){const i=t.XpG(3);t.R7$(),t.Y8G("src",i.employees.foto,t.B4B)}}function P(o,a){1&o&&t.nrm(0,"mdb-icon",68)}function L(o,a){if(1&o&&(t.j41(0,"small",69),t.EFF(1),t.k0s()),2&o){const i=t.XpG(3);t.R7$(),t.SpI("DNI/NIF: ",i.employees.dni,"")}}function U(o,a){if(1&o&&(t.j41(0,"small"),t.EFF(1),t.k0s()),2&o){const i=t.XpG(3);t.R7$(),t.SpI("DNI/NIF: ",i.employees.dni,"")}}function W(o,a){1&o&&(t.j41(0,"small",50),t.EFF(1,"Trabajador activo"),t.k0s())}function Q(o,a){1&o&&(t.j41(0,"small",70),t.EFF(1,"Plus incluido "),t.k0s())}function z(o,a){if(1&o&&(t.j41(0,"small",69),t.EFF(1),t.k0s()),2&o){const i=t.XpG(5);t.R7$(),t.SpI("DNI/NIF: ",i.employees.dni,"")}}function K(o,a){if(1&o&&(t.j41(0,"small"),t.EFF(1),t.k0s()),2&o){const i=t.XpG(5);t.R7$(),t.SpI("DNI/NIF: ",i.employees.dni,"")}}function Z(o,a){1&o&&(t.j41(0,"small",50),t.EFF(1,"Trabajador activo"),t.k0s())}function q(o,a){1&o&&(t.j41(0,"small",70),t.EFF(1,"Plus incluido "),t.k0s())}function tt(o,a){if(1&o&&(t.j41(0,"div",21),t.EFF(1," \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "),t.j41(2,"div",87),t.nrm(3,"img",67),t.k0s(),t.EFF(4," \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 "),t.j41(5,"div",88)(6,"strong",50),t.EFF(7),t.k0s(),t.nrm(8,"br"),t.DNE(9,z,2,1,"small",51)(10,K,2,1,"small",32),t.nrm(11,"br"),t.DNE(12,Z,2,0,"small",52),t.nrm(13,"br"),t.DNE(14,q,2,0,"small",53),t.k0s()()),2&o){const i=t.XpG(4);t.R7$(3),t.Y8G("src",i.employees.foto,t.B4B),t.R7$(4),t.Lme("",i.employees.nombre," ",i.employees.apellidos,""),t.R7$(2),t.Y8G("ngIf","A2020"==i.tipoUsuario),t.R7$(),t.Y8G("ngIf","A2020"!=i.tipoUsuario),t.R7$(2),t.Y8G("ngIf",1==i.employees.activo),t.R7$(2),t.Y8G("ngIf","B"==i.employees.bocadillo)}}function it(o,a){if(1&o){const i=t.RV6();t.j41(0,"button",90),t.bIt("click",function(){t.eBV(i);const e=t.XpG(5);return t.Njj(e.print("v-pills-profile",e.employees.apellidos))}),t.nrm(1,"i",91),t.k0s()}}function ot(o,a){if(1&o&&(t.j41(0,"div",79),t.DNE(1,it,2,0,"button",89),t.k0s()),2&o){const i=t.XpG(4);t.R7$(),t.Y8G("ngIf",!i.loadingHoras)}}function et(o,a){if(1&o&&(t.j41(0,"div",92),t.EFF(1),t.k0s()),2&o){const i=t.XpG(4);t.R7$(),t.SpI(" A\xf1o ",i.anio," ")}}function st(o,a){if(1&o&&(t.j41(0,"tr")(1,"td",39),t.EFF(2),t.k0s()()),2&o){const i=a.$implicit;t.R7$(2),t.JRh(i)}}function at(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function nt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function lt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,at,2,1,"td",93)(2,nt,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function rt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function _t(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function ct(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,rt,2,1,"td",93)(2,_t,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function dt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function mt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function pt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,dt,2,1,"td",93)(2,mt,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function ht(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function ut(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function ft(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,ht,2,1,"td",93)(2,ut,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function bt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function gt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Et(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,bt,2,1,"td",93)(2,gt,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function vt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function Ct(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Tt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,vt,2,1,"td",93)(2,Ct,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function jt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function Ft(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Rt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,jt,2,1,"td",93)(2,Ft,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function Gt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function xt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function kt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Gt,2,1,"td",93)(2,xt,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function $t(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function It(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Mt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,$t,2,1,"td",93)(2,It,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function yt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function Ht(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Nt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,yt,2,1,"td",93)(2,Ht,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function Xt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function Yt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Bt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Xt,2,1,"td",93)(2,Yt,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function St(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesHora)}}function At(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"-----"),t.k0s())}function Dt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,St,2,1,"td",93)(2,At,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesHora),t.R7$(),t.Y8G("ngIf",!i.mesHora)}}function Vt(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Ot(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Jt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function wt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Vt,2,1,"td",94)(2,Ot,2,0,"td",93)(3,Jt,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesTraB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesTraB),t.R7$(),t.Y8G("ngIf",s.mesTraB)}}function Pt(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Lt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Ut(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Wt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Pt,2,1,"td",94)(2,Lt,2,0,"td",93)(3,Ut,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesFeB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesFeB),t.R7$(),t.Y8G("ngIf",s.mesFeB)}}function Qt(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function zt(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Kt(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Zt(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Qt,2,1,"td",94)(2,zt,2,0,"td",93)(3,Kt,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesMarB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesMarB),t.R7$(),t.Y8G("ngIf",s.mesMarB)}}function qt(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function ti(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function ii(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function oi(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,qt,2,1,"td",94)(2,ti,2,0,"td",93)(3,ii,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesAbrB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesAbrB),t.R7$(),t.Y8G("ngIf",s.mesAbrB)}}function ei(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function si(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function ai(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function ni(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,ei,2,1,"td",94)(2,si,2,0,"td",93)(3,ai,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesMayB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesMayB),t.R7$(),t.Y8G("ngIf",s.mesMayB)}}function li(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function ri(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function _i(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function ci(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,li,2,1,"td",94)(2,ri,2,0,"td",93)(3,_i,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesJunB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesJunB),t.R7$(),t.Y8G("ngIf",s.mesJunB)}}function di(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function mi(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function pi(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function hi(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,di,2,1,"td",94)(2,mi,2,0,"td",93)(3,pi,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesJulB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesJulB),t.R7$(),t.Y8G("ngIf",s.mesJulB)}}function ui(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function fi(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function bi(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function gi(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,ui,2,1,"td",94)(2,fi,2,0,"td",93)(3,bi,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesAgoB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesAgoB),t.R7$(),t.Y8G("ngIf",s.mesAgoB)}}function Ei(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function vi(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Ci(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Ti(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Ei,2,1,"td",94)(2,vi,2,0,"td",93)(3,Ci,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesSetB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesSetB),t.R7$(),t.Y8G("ngIf",s.mesSetB)}}function ji(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Fi(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Ri(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Gi(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,ji,2,1,"td",94)(2,Fi,2,0,"td",93)(3,Ri,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesOctB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesOctB),t.R7$(),t.Y8G("ngIf",s.mesOctB)}}function xi(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function ki(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function $i(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Ii(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,xi,2,1,"td",94)(2,ki,2,0,"td",93)(3,$i,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesNovB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesNovB),t.R7$(),t.Y8G("ngIf",s.mesNovB)}}function Mi(o,a){if(1&o&&(t.j41(0,"td",95),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function yi(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Hi(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.horasTeoricas)}}function Ni(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Mi,2,1,"td",94)(2,yi,2,0,"td",93)(3,Hi,2,1,"td",93),t.k0s()),2&o){const i=a.$implicit,s=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.horasTeoricas&&!s.mesDicB),t.R7$(),t.Y8G("ngIf",!i.horasTeoricas&&!s.mesDicB),t.R7$(),t.Y8G("ngIf",s.mesDicB)}}function Xi(o,a){if(1&o&&(t.j41(0,"td",82),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit;t.R7$(),t.JRh(i.mesBolsa)}}function Yi(o,a){1&o&&(t.j41(0,"td",82),t.EFF(1,"0"),t.k0s())}function Bi(o,a){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Xi,2,1,"td",93)(2,Yi,2,0,"td",93),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.mesBolsa),t.R7$(),t.Y8G("ngIf",!i.mesBolsa)}}function Si(o,a){if(1&o&&(t.j41(0,"div",96)(1,"table",80)(2,"tr",31)(3,"td",82),t.EFF(4,"Bolsa horas"),t.k0s()(),t.DNE(5,Bi,3,2,"tr",38),t.j41(6,"tfoot")(7,"td",83),t.EFF(8),t.k0s(),t.j41(9,"tr")(10,"blockquote",97)(11,"p",98),t.EFF(12),t.k0s()()()()()()),2&o){const i=t.XpG(4);t.R7$(5),t.Y8G("ngForOf",i.mesTraBolsa),t.R7$(3),t.JRh(i.totalHTeoricas-i.horaConvenios+i.totalHTrabajadasBolsa),t.R7$(4),t.JRh(i.texto)}}function Ai(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",99)(1,"button",100),t.bIt("click",function(){t.eBV(i);const e=t.XpG(4);return t.Njj(e.descarga())}),t.nrm(2,"mdb-icon",101),t.EFF(3," Excel"),t.k0s()()}}function Di(o,a){1&o&&(t.j41(0,"div",102),t.nrm(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br")(8,"br")(9,"br")(10,"br"),t.k0s())}function Vi(o,a){if(1&o&&(t.j41(0,"div",71),t.DNE(1,tt,15,7,"div",72),t.j41(2,"div",21)(3,"div",73)(4,"h5",74),t.EFF(5,"D\xedas de vacaciones disfrutados: "),t.j41(6,"span",75),t.EFF(7),t.k0s()()(),t.DNE(8,ot,2,1,"div",76)(9,et,2,1,"div",77),t.k0s(),t.j41(10,"div",78)(11,"div",79)(12,"table",80)(13,"tr",31)(14,"td",46),t.EFF(15,"Mes"),t.k0s()(),t.DNE(16,st,3,1,"tr",38),t.k0s()(),t.j41(17,"div",81)(18,"table",80)(19,"tr",31)(20,"td",82),t.EFF(21,"Horas trabajadas"),t.k0s()(),t.DNE(22,lt,3,2,"tr",38)(23,ct,3,2,"tr",38)(24,pt,3,2,"tr",38)(25,ft,3,2,"tr",38)(26,Et,3,2,"tr",38)(27,Tt,3,2,"tr",38)(28,Rt,3,2,"tr",38)(29,kt,3,2,"tr",38)(30,Mt,3,2,"tr",38)(31,Nt,3,2,"tr",38)(32,Bt,3,2,"tr",38)(33,Dt,3,2,"tr",38),t.j41(34,"tfoot")(35,"td",83),t.EFF(36),t.k0s()()()(),t.j41(37,"div",81)(38,"table",80)(39,"tr",31)(40,"td",82),t.EFF(41,"Horas te\xf3ricas"),t.k0s()(),t.DNE(42,wt,4,3,"tr",38)(43,Wt,4,3,"tr",38)(44,Zt,4,3,"tr",38)(45,oi,4,3,"tr",38)(46,ni,4,3,"tr",38)(47,ci,4,3,"tr",38)(48,hi,4,3,"tr",38)(49,gi,4,3,"tr",38)(50,Ti,4,3,"tr",38)(51,Gi,4,3,"tr",38)(52,Ii,4,3,"tr",38)(53,Ni,4,3,"tr",38),t.j41(54,"tfoot")(55,"td",83),t.EFF(56),t.k0s()()()(),t.DNE(57,Si,13,3,"div",84)(58,Ai,4,0,"div",85),t.k0s(),t.DNE(59,Di,11,0,"div",86),t.k0s()),2&o){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",i.pri),t.R7$(6),t.SpI(" ",i.vaciones,""),t.R7$(),t.Y8G("ngIf",!i.pri),t.R7$(),t.Y8G("ngIf",i.pri),t.R7$(7),t.Y8G("ngForOf",i.meses),t.R7$(6),t.Y8G("ngForOf",i.mesTra),t.R7$(),t.Y8G("ngForOf",i.mesFe),t.R7$(),t.Y8G("ngForOf",i.mesMar),t.R7$(),t.Y8G("ngForOf",i.mesAbr),t.R7$(),t.Y8G("ngForOf",i.mesMay),t.R7$(),t.Y8G("ngForOf",i.mesJun),t.R7$(),t.Y8G("ngForOf",i.mesJul),t.R7$(),t.Y8G("ngForOf",i.mesAgo),t.R7$(),t.Y8G("ngForOf",i.mesSet),t.R7$(),t.Y8G("ngForOf",i.mesOct),t.R7$(),t.Y8G("ngForOf",i.mesNov),t.R7$(),t.Y8G("ngForOf",i.mesDic),t.R7$(3),t.JRh(i.totalHTrabajadas),t.R7$(6),t.Y8G("ngForOf",i.mesTra1),t.R7$(),t.Y8G("ngForOf",i.mesFe1),t.R7$(),t.Y8G("ngForOf",i.mesMar1),t.R7$(),t.Y8G("ngForOf",i.mesAbr1),t.R7$(),t.Y8G("ngForOf",i.mesMay1),t.R7$(),t.Y8G("ngForOf",i.mesJun1),t.R7$(),t.Y8G("ngForOf",i.mesJul1),t.R7$(),t.Y8G("ngForOf",i.mesAgo1),t.R7$(),t.Y8G("ngForOf",i.mesSet1),t.R7$(),t.Y8G("ngForOf",i.mesOct1),t.R7$(),t.Y8G("ngForOf",i.mesNov1),t.R7$(),t.Y8G("ngForOf",i.mesDic1),t.R7$(3),t.JRh(i.totalHTeoricas),t.R7$(),t.Y8G("ngIf",i.bolsaHabilitado),t.R7$(),t.Y8G("ngIf",!i.pri),t.R7$(),t.Y8G("ngIf",i.pri)}}function Oi(o,a){1&o&&(t.j41(0,"div",103)(1,"strong"),t.EFF(2,"ERROR!"),t.k0s(),t.EFF(3," NO HAY DATOS PARA MOSTRAR, POR FAVOR SELECCIONE OTRO A\xd1O. "),t.k0s())}function Ji(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",46)(1,"div",21),t.EFF(2," \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "),t.DNE(3,J,2,1,"div",47)(4,w,2,1,"div",3),t.EFF(5," \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 "),t.j41(6,"div",48),t.DNE(7,P,1,0,"mdb-icon",49),t.j41(8,"strong",50),t.EFF(9),t.k0s(),t.nrm(10,"br"),t.DNE(11,L,2,1,"small",51)(12,U,2,1,"small",32),t.nrm(13,"br"),t.DNE(14,W,2,0,"small",52),t.nrm(15,"br"),t.DNE(16,Q,2,0,"small",53),t.k0s(),t.j41(17,"div",54)(18,"span",55),t.EFF(19),t.k0s()(),t.j41(20,"div",48)(21,"a",56),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.salir())}),t.nrm(22,"mdb-icon",57),t.EFF(23," Nueva consulta"),t.k0s()()(),t.nrm(24,"br"),t.j41(25,"div",21),t.EFF(26," \xa0 "),t.j41(27,"div",58)(28,"div",59)(29,"a",60),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.control())}),t.nrm(30,"i",61),t.EFF(31," Horas"),t.k0s()()(),t.j41(32,"div",62)(33,"div",63),t.DNE(34,Vi,60,34,"div",64)(35,Oi,4,0,"div",65),t.k0s()()()()}if(2&o){const i=t.XpG(2);t.R7$(3),t.Y8G("ngIf",i.controlB),t.R7$(),t.Y8G("ngIf",!i.controlB),t.R7$(3),t.Y8G("ngIf","A2020"==i.tipoUsuario),t.R7$(2),t.Lme("",i.employees.nombre," ",i.employees.apellidos,""),t.R7$(2),t.Y8G("ngIf","A2020"==i.tipoUsuario),t.R7$(),t.Y8G("ngIf","A2020"!=i.tipoUsuario),t.R7$(2),t.Y8G("ngIf",1==i.employees.activo),t.R7$(2),t.Y8G("ngIf","B"==i.employees.bocadillo),t.R7$(),t.Y8G("ngClass",t.eq3(14,y,i.coment)),t.R7$(),t.Y8G("ngClass",t.eq3(16,H,i.coment)),t.R7$(),t.JRh(i.coment),t.R7$(15),t.Y8G("ngIf",!i.errData),t.R7$(),t.Y8G("ngIf",i.errData)}}function wi(o,a){if(1&o&&(t.j41(0,"section",17),t.DNE(1,O,38,8,"div",18)(2,Ji,36,18,"div",19),t.nrm(3,"hr"),t.k0s()),2&o){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.verEmpleado),t.R7$(),t.Y8G("ngIf",i.verEmpleado&&!i.editar)}}let Pi=(()=>{class o{constructor(i,s,e,n,l){this.ruta=i,this._empleados=s,this._alerta=e,this._control=n,this.excelService=l,this.options=[{value:"year1",label:""},{value:"year1",label:""}],this.siAnio=!1,this.get_t=[],this.filterQuery="",this.loadingHoras=!0,this.bArray=[],this.verEmpleado=!1,this.justificacion="Seleccione una justificaci\xf3n",this.horasInicio=0,this.emp_numero=0,this.meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.mes=[],this.mesTraBolsa=[],this.totalHTeoricas=0,this.totalHTrabajadas=0,this.totalHTrabajadasBolsa=0,this.totalParoAnterior=0,this.totalParoActual=0,this.paroAnterior=[],this.paroActual=[],this.mesTra=[],this.mesFe=[],this.mesMar=[],this.mesAbr=[],this.mesMay=[],this.mesJun=[],this.mesJul=[],this.mesAgo=[],this.mesSet=[],this.mesOct=[],this.mesNov=[],this.mesDic=[],this.mesTra1=[],this.mesFe1=[],this.mesMar1=[],this.mesAbr1=[],this.mesMay1=[],this.mesJun1=[],this.mesJul1=[],this.mesAgo1=[],this.mesSet1=[],this.mesOct1=[],this.mesNov1=[],this.mesDic1=[]}ngOnInit(){let i=localStorage.getItem(btoa("servicio")),s=localStorage.getItem("rol"),e=localStorage.getItem("usuario");this.tipoUsuario=atob(s),this.usuario=atob(e),this.idServicio=atob(i),"E2020"==this.tipoUsuario?(this.years=(new Date).getFullYear(),this.year1=this.years-1,this.year2=this.years-2,this.options[0].label=this.year1,this.options[1].label=this.year2,this.getEmpleadosActivos(),this.getConvenio()):this.ruta.navigate(["Empleados"])}search(i){this.table.search(i.target.value)}changeYear(i){setTimeout(()=>{this.loadingHoras=!1},2e3),this.anio=i,this.siAnio=!!this.anio}closeAlert(){this.siAnio=!1,this.salir()}getTexto(){this._empleados.getTexto(this.idServicio).subscribe(i=>{for(let s=0;s<this.get_t.length;s++)this.texto=this.get_t[s].texto})}getEmpleadosActivos(){this._empleados.getEmplaedos(this.idServicio).subscribe(i=>{"error"!=i?(this.data=i,this.dataTotal=this.data.length):(this.data=[],this.dataTotal=0,this.loadingHoras=!1)})}getConvenio(){this._empleados.getConvenio(this.idServicio).subscribe(i=>{"error"!=i?this.horaConvenios=i[0].horasAnuales:alert("Error en los  convenios.")})}bolsas(){this._empleados.getBolsa(this.idServicio).subscribe(i=>{console.log(i),this.bArray=i,this.bolsa=this.bArray.bolsaHoras,this.bolsaHabilitado=1==this.bolsa})}empleado(i){this.emp_numero=i.nEmpleado,this.ape=i.apellidos,this._empleados.antiguedad(i.nEmpleado).subscribe(r=>{this.control(),this.hoy=r.meses/12,this._empleados.getDiasVacacionesConsultas(i.nEmpleado,this.anio).subscribe(_=>{this.vaciones=_>0?_:0})}),this.verEmpleado=!0,this.employees=i,this._empleados.consultaEmpleadoHorasConsulta(this.employees.nEmpleado,this.anio).subscribe(r=>{this.horasInicio=r.horasTeoricas,this.year=r[1]}),this.getTeoricas();let s=new Date;this.fechas=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate();let e=new Date(this.employees.fechaNacimiento),l=(new Date).getTime()-e.getTime();this.edad=Math.trunc(l/31536e6),this._empleados.comentarios(i.nEmpleado,this.anio).subscribe(r=>{this.coment=null!=r||null!=r?r.com:""})}getTeoricas(){this.totalHTeoricas=0,this.mes=[],this.totalHTrabajadas=0,this.totalHTrabajadasBolsa=0,this.mesTra=[],this.mesTraBolsa=[],this.totalParoAnterior=0,this.totalParoActual=0;var s=(new Date).getMonth();this._empleados.horasMensualConsulta(1,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),0!=e?(this.errData=!1,s>=e[0].mes&&(this.mesTraB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesTra1=e):this.errData=!0}),this._empleados.horasMensualConsulta(2,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesFeB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesFe1=e}),this._empleados.horasMensualConsulta(3,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesMarB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesMar1=e}),this._empleados.horasMensualConsulta(4,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesAbrB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesAbr1=e}),this._empleados.horasMensualConsulta(5,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesMayB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesMay1=e}),this._empleados.horasMensualConsulta(6,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesJunB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesJun1=e}),this._empleados.horasMensualConsulta(7,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesJulB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesJul1=e}),this._empleados.horasMensualConsulta(8,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesAgoB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesAgo1=e}),this._empleados.horasMensualConsulta(9,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),s>=e[0].mes&&(this.mesSetB=!0),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesSet1=e}),this._empleados.horasMensualConsulta(10,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesOct1=e,s>=e[0].mes&&(this.mesOctB=!0)}),this._empleados.horasMensualConsulta(11,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesNov1=e,s>=e[0].mes&&(this.mesNovB=!0)}),this._empleados.horasMensualConsulta(12,this.employees.nEmpleado,this.anio).subscribe(e=>{console.log(e),this.totalHTeoricas=this.totalHTeoricas+e[0].horasTeoricas,this.mesDic1=e,s>=e[0].mes&&(this.mesDicB=!0)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,1,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesTra=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,2,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesFe=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,3,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesMar=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,4,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesAbr=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,5,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesMay=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,6,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesJun=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,7,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesJul=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,8,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesAgo=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,9,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesSet=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,10,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesOct=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,11,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesNov=e)}),this._empleados.horasMensualTrabajadaConsultas(this.employees.nEmpleado,12,this.anio).subscribe(e=>{e&&(this.totalHTrabajadas=this.totalHTrabajadas+e[0].mesHora,this.mesDic=e)}),this._empleados.horasMensualTrabajadaBolsaConsulta(this.employees.nEmpleado,this.anio).subscribe(e=>{if(e){this.mesTraBolsa=e;for(let l=0;l<this.mesTraBolsa.length;l++)this.totalHTrabajadasBolsa=this.totalHTrabajadasBolsa+this.mesTraBolsa[l].mesBolsa;let n=this.meses.length-this.mesTraBolsa.length;for(let l=0;l<n;l++)this.mesTraBolsa.push({mes:0})}}),this.bolsas()}exportAsXLSX(){this._empleados.getEmplaedosActivosE(this.idServicio).subscribe(i=>{this.dataE=i,this.excelService.exportAsExcelFile(this.dataE,"Empleados_activos")})}print(i,s){this.errData?this._alerta.openToast1("NO HAY HORAS DISPONIBLES PARA DESCARGAR.","bg-warning text-white","DESCARGA..."):(this.pri=!0,this._alerta.openToast1("DESCARGANDO PDF, ESPERE POR FAVOR.","bg-warning text-white","DESCARGA..."),setTimeout(()=>{const e=document.getElementById("v-pills-profile"),n=new G.Ay("p","pt","a4");k()(e,{allowTaint:!0,useCORS:!0}).then(r=>{const _=n.internal.pageSize.getWidth(),u=r.height*_/r.width;n.addImage(r.toDataURL("image/png"),"PNG",0,0,_,u),n.save("Programaci\xf3n.pdf"),this.pri=!1}),this.pri=!1},500))}control(){this.controlB=!0,this.getTexto()}salir(){this.data=[],this.getEmpleadosActivos(),this.verEmpleado=!1,this.filterQuery="",this.totalHTeoricas=0,this.mes=[],this.totalHTrabajadas=0,this.totalHTrabajadasBolsa=0,this.mesTraBolsa=[],this.totalParoAnterior=0,this.totalParoActual=0,this.mesTra=[],this.mesFe=[],this.mesMar=[],this.mesAbr=[],this.mesMay=[],this.mesJun=[],this.mesJul=[],this.mesAgo=[],this.mesSet=[],this.mesOct=[],this.mesNov=[],this.mesDic=[],this.mesTra1=[],this.mesFe1=[],this.mesMar1=[],this.mesAbr1=[],this.mesMay1=[],this.mesJun1=[],this.mesJul1=[],this.mesAgo1=[],this.mesSet1=[],this.mesOct1=[],this.mesNov1=[],this.mesDic1=[],this.mesTraB=!1,this.mesFeB=!1,this.mesMarB=!1,this.mesAbrB=!1,this.mesMayB=!1,this.mesJunB=!1,this.mesJulB=!1,this.mesAgoB=!1,this.mesSetB=!1,this.mesOctB=!1,this.mesNovB=!1,this.mesDicB=!1,this.controlB=!1,this.errData=!1}descarga(){this._empleados.consultaEmpleadoExcelHoras(this.emp_numero,this.anio).subscribe(i=>{"error"!=i?(this.datos=i,this.excelService.exportAsExcelFile(this.datos,"Lista_Horas_"+this.anio+"_"+this.ape)):alert("ERROR!")})}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(b.Ix),t.rXU(g.U),t.rXU(E.c),t.rXU(v.Y),t.rXU($.V))};static#i=this.\u0275cmp=t.VBU({type:o,selectors:[["app-consultas-e"]],viewQuery:function(s,e){if(1&s&&t.GBs(M,5),2&s){let n;t.mGM(n=t.lsd())&&(e.table=n.first)}},decls:6,vars:4,consts:[["table","mdbTable","sort","mdbTableSort"],["paginations",""],[1,"top","animate__animated","animate__fadeIn","row"],["class","col-md-1",4,"ngIf"],["class","col-md-3",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","top animate__animated animate__fadeIn","id","arriba",4,"ngIf"],[1,"col-md-1"],[1,"col-md-3"],[3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["mdbLabel","",1,"form-label"],[3,"value"],[1,"col-md-12"],[1,"container"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show","text-center","h5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["id","arriba",1,"top","animate__animated","animate__fadeIn"],["class","main",4,"ngIf"],["class","",4,"ngIf"],[1,"main"],[1,"row"],[1,"col-auto"],[1,"input-group","mb-3"],["id","search-addon",1,"input-group-text"],[1,"fas","fa-search"],["autocomplete","off","type","search","placeholder","Buscar empleado","aria-label","Search","aria-describedby","search-addon",1,"form-control","rounded",3,"keyup","ngModelChange","ngModel"],[1,"alert","alert-warning"],["class","col-md-2 tops",4,"ngIf"],[1,"row","animated","fadeInUp"],["mdbTable","","mdbTableSort","",1,"table","datatable-table","table-sm",3,"dataSource","sort","pagination"],[1,"grey","lighten-1","text-white"],[4,"ngIf"],["colspan","5"],["rowsPerPageText","Lineas por p\xe1gina","ofText","De"],[1,"col-md-2","tops"],["mdbBtn","","outline","true","type","button","color","dark-green","mdbWavesEffect","",3,"click"],[1,"fas","fa-file-excel"],[4,"ngFor","ngForOf"],[1,"text-uppercase"],[1,"cursor","q","text-primary",3,"click"],[1,"fas","fa-info-circle","fa-lg"],[1,"datatable-loader","bg-light"],[1,"datatable-loader-inner"],[1,"datatable-progress","bg-primary"],[1,"text-center","text-muted","my-4"],[1,""],["class","col-md-1 cursor",3,"click",4,"ngIf"],[1,"col-md-3","top"],["fas","","icon","edit","size","2x","class","text-warning cursor",4,"ngIf"],[1,"text"],["class","bajo",4,"ngIf"],["class","text",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"col-md-3","top",3,"ngClass"],[1,"padding","text-uppercase",3,"ngClass"],["role","button",1,"btn","btn-outline-success",3,"click"],["fas","","icon","chevron-circle-left"],[1,"col-2","aa"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills"],["id","v-pills-profile-tab","data-toggle","pill","href","#v-pills-profile","role","tab","aria-controls","v-pills-profile","aria-selected","false",1,"nav-link","active",3,"click"],[1,"fas","fa-user-clock"],[1,"col-9"],["id","v-pills-tabContent",1,"tab-content"],["class","tab-pane fade container show active","id","v-pills-profile","role","tabpanel","aria-labelledby","v-pills-profile-tab",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-1","cursor",3,"click"],["alt","avatar","width","100",3,"src"],["fas","","icon","edit","size","2x",1,"text-warning","cursor"],[1,"bajo"],[1,"text-success"],["id","v-pills-profile","role","tabpanel","aria-labelledby","v-pills-profile-tab",1,"tab-pane","fade","container","show","active"],["class","row",4,"ngIf"],[1,"col-md-4"],[1,"border","alert","border-dark","padding"],[1,"text-primary"],["class","col-md-2",4,"ngIf"],["class","col-md-6  h4 text-primary",4,"ngIf"],[1,"row","animated","fadeIn"],[1,"col-md-2"],["mdbTable","","small","true","striped","true"],[1,"col-md-3","tabl"],[1,"text-center"],[1,"text-center","text-primary","h4"],["class","col-md-5 tabl",4,"ngIf"],["class","col-md-6 ",4,"ngIf"],["class","di",4,"ngIf"],[1,"col-md-1","cursor"],[1,"col-md-4","top"],["mdbBtn","","class","btn btn-danger","mdbWavesEffect","",3,"click",4,"ngIf"],["mdbBtn","","mdbWavesEffect","",1,"btn","btn-danger",3,"click"],[1,"far","fa-file-pdf"],[1,"col-md-6","h4","text-primary"],["class","text-center",4,"ngIf"],["class","text-center text-danger",4,"ngIf"],[1,"text-center","text-danger"],[1,"col-md-5","tabl"],[1,"blockquote"],[1,"mb-0"],[1,"col-md-6"],[1,"btn","btn-outline-success",3,"click"],["fas","","icon","file-excel"],[1,"di"],[1,"alert","alert-danger"]],template:function(s,e){1&s&&(t.nrm(0,"app-menu"),t.j41(1,"section",2),t.DNE(2,N,1,0,"div",3)(3,Y,6,1,"div",4)(4,B,7,1,"div",5),t.k0s(),t.DNE(5,wi,4,2,"section",6)),2&s&&(t.R7$(2),t.Y8G("ngIf",!e.siAnio),t.R7$(),t.Y8G("ngIf",!e.siAnio),t.R7$(),t.Y8G("ngIf",e.siAnio),t.R7$(),t.Y8G("ngIf",e.siAnio))},dependencies:[m.YU,m.Sq,m.bT,j.Z,F.Rq,C.yg,C.DR,I.sE,c.me,c.BC,c.vS,p.nh,p.ZL,p.tL],styles:[".tabl[_ngcontent-%COMP%]{margin-left:-32px}.padding[_ngcontent-%COMP%]{padding:5px}.bajo[_ngcontent-%COMP%]{color:#9e9d9d;margin-left:11%}"]})}return o})();var R=d(5024),Li=d(4256);const Ui=["table"];function Wi(o,a){if(1&o&&(t.j41(0,"div",12),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2);t.R7$(),t.SpI(" ",i.comentEmp," ")}}function Qi(o,a){1&o&&(t.j41(0,"div",13),t.EFF(1," sin comentario asignado. "),t.k0s())}function zi(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h5",6),t.EFF(3),t.k0s()(),t.j41(4,"div",7),t.DNE(5,Wi,2,1,"div",8)(6,Qi,2,0,"div",9),t.k0s(),t.j41(7,"div",10)(8,"button",11),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.no())}),t.EFF(9,"Salir"),t.k0s()()()}if(2&o){const i=t.XpG();t.R7$(3),t.Lme(" ",i.apellidos,", ",i.nombre," "),t.R7$(2),t.Y8G("ngIf",i.comentEmp),t.R7$(),t.Y8G("ngIf",!i.comentEmp)}}function Ki(o,a){1&o&&(t.j41(0,"p",24)(1,"strong"),t.EFF(2," \xbfQu\xe9 campo desea editar? "),t.k0s()())}function Zi(o,a){1&o&&(t.j41(0,"p",25),t.EFF(1,"Est\xe1 seguro de queres"),t.j41(2,"strong"),t.EFF(3," BLOQUEAR los campos horarios de los empleados "),t.k0s(),t.EFF(4,"?"),t.k0s())}function qi(o,a){if(1&o){const i=t.RV6();t.j41(0,"a",26),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siEditar1())}),t.EFF(1,"HORA NORMAL "),t.nrm(2,"i",27),t.k0s()}}function to(o,a){if(1&o){const i=t.RV6();t.j41(0,"a",28),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siEditar1())}),t.EFF(1,"BLOQ. HORA NORMAL "),t.nrm(2,"i",29),t.k0s()}}function io(o,a){if(1&o){const i=t.RV6();t.j41(0,"a",30),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siEditar())}),t.EFF(1,"HORA EXTRA "),t.nrm(2,"i",27),t.k0s()}}function oo(o,a){if(1&o){const i=t.RV6();t.j41(0,"a",31),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siEditar())}),t.EFF(1,"BLOQ. hora extra "),t.nrm(2,"i",29),t.k0s()}}function eo(o,a){if(1&o){const i=t.RV6();t.j41(0,"a",32),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siEditar11())}),t.EFF(1,"Justificante "),t.nrm(2,"i",29),t.k0s()}}function so(o,a){if(1&o){const i=t.RV6();t.j41(0,"a",33),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siEditar11())}),t.EFF(1,"BLOQ. JUSTIFICANTE "),t.nrm(2,"i",29),t.k0s()}}function ao(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h5",6),t.DNE(3,Ki,3,0,"p",14)(4,Zi,5,0,"p",15),t.k0s()(),t.j41(5,"div",7)(6,"div",16),t.DNE(7,qi,3,0,"a",17)(8,to,3,0,"a",18)(9,io,3,0,"a",19)(10,oo,3,0,"a",20)(11,eo,3,0,"a",21)(12,so,3,0,"a",22),t.EFF(13," \xa0 \xa0 \xa0 \xa0\xa0\xa0\xa0 "),t.k0s()(),t.j41(14,"div",10)(15,"button",11),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.no())}),t.nrm(16,"i",23),t.EFF(17," No, gracias"),t.k0s()()()}if(2&o){const i=t.XpG();t.R7$(3),t.Y8G("ngIf",!i.habilitarE),t.R7$(),t.Y8G("ngIf",i.habilitarE),t.R7$(3),t.Y8G("ngIf",!i.habilitarE1),t.R7$(),t.Y8G("ngIf",i.habilitarE1),t.R7$(),t.Y8G("ngIf",!i.habilitarE),t.R7$(),t.Y8G("ngIf",i.habilitarE),t.R7$(),t.Y8G("ngIf",!i.habilitarE11),t.R7$(),t.Y8G("ngIf",i.habilitarE11)}}function no(o,a){if(1&o&&(t.j41(0,"option",54),t.EFF(1),t.k0s()),2&o){const i=a.$implicit;t.Y8G("value",i.nEmpleado),t.R7$(),t.Lme("",i.apellidos," ",i.nombre,"")}}function lo(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h5",6),t.EFF(3," Informe de error "),t.k0s()(),t.j41(4,"div",7)(5,"form",34,0),t.bIt("ngSubmit",function(){t.eBV(i);const e=t.sdS(6),n=t.XpG();return t.Njj(n.addInfoError(e))}),t.j41(7,"div",35)(8,"div",36),t.EFF(9," Fecha "),t.j41(10,"input",37),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.fechaF,e)||(n.fechaF=e),t.Njj(e)}),t.k0s()(),t.j41(11,"div",36),t.EFF(12," Seleccionar Empleado "),t.j41(13,"select",38),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.empleadoF,e)||(n.empleadoF=e),t.Njj(e)}),t.j41(14,"option",39),t.EFF(15,"Seleccionar Empleado"),t.k0s(),t.DNE(16,no,2,3,"option",40),t.k0s()(),t.j41(17,"div",36)(18,"div",41),t.nrm(19,"mdb-icon",42),t.j41(20,"textarea",43),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.comentF,e)||(n.comentF=e),t.Njj(e)}),t.k0s(),t.j41(21,"label",44),t.EFF(22,"Observaciones "),t.j41(23,"small",45),t.EFF(24,"( m\xednimo 5 carecteres)"),t.k0s()()()(),t.j41(25,"div",46),t.EFF(26," Seleccionar Turno "),t.j41(27,"select",47)(28,"option",39),t.EFF(29,"Seleccionar Turno"),t.k0s(),t.j41(30,"option",48),t.EFF(31,"MA\xd1ANA"),t.k0s(),t.j41(32,"option",49),t.EFF(33,"TARDE"),t.k0s(),t.j41(34,"option",50),t.EFF(35,"NOCHE"),t.k0s()()(),t.j41(36,"input",51),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.idServicio,e)||(n.idServicio=e),t.Njj(e)}),t.k0s(),t.nrm(37,"div",52),t.k0s(),t.j41(38,"div",10)(39,"button",53),t.EFF(40,"Enviar error"),t.k0s(),t.j41(41,"button",11),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.no())}),t.EFF(42,"Salir"),t.k0s()()()()()}if(2&o){const i=t.sdS(6),s=t.XpG();t.R7$(10),t.R50("ngModel",s.fechaF),t.R7$(3),t.R50("ngModel",s.empleadoF),t.R7$(3),t.Y8G("ngForOf",s.empleadoList),t.R7$(4),t.R50("ngModel",s.comentF),t.R7$(16),t.R50("ngModel",s.idServicio),t.R7$(3),t.Y8G("disabled",i.invalid)}}function ro(o,a){if(1&o&&(t.j41(0,"th",60),t.EFF(1),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.SpI(" ",i.descripcion," ")}}function _o(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora1)}}function co(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora2)}}function mo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora3)}}function po(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora4)}}function ho(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora5)}}function uo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora6)}}function fo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora7)}}function bo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora8)}}function go(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.hora9)}}function Eo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.bolsa1)}}function vo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.bolsa2)}}function Co(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.bolsa3)}}function To(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.bolsa4)}}function jo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.bolsa5)}}function Fo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.plus1)}}function Ro(o,a){1&o&&(t.j41(0,"td",75),t.EFF(1,"-------"),t.k0s())}function Go(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.plus2)}}function xo(o,a){if(1&o&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&o){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.plus3)}}function ko(o,a){if(1&o&&(t.j41(0,"tr")(1,"td",70),t.EFF(2),t.k0s(),t.j41(3,"td",70),t.EFF(4),t.k0s(),t.j41(5,"td",71),t.EFF(6),t.k0s(),t.j41(7,"td",72),t.EFF(8),t.k0s(),t.j41(9,"td",72),t.EFF(10),t.k0s(),t.j41(11,"td",72),t.EFF(12),t.k0s(),t.DNE(13,_o,2,1,"td",73)(14,co,2,1,"td",73)(15,mo,2,1,"td",73)(16,po,2,1,"td",73)(17,ho,2,1,"td",73)(18,uo,2,1,"td",73)(19,fo,2,1,"td",73)(20,bo,2,1,"td",73)(21,go,2,1,"td",73)(22,Eo,2,1,"td",73)(23,vo,2,1,"td",73)(24,Co,2,1,"td",73)(25,To,2,1,"td",73)(26,jo,2,1,"td",73)(27,Fo,2,1,"td",73)(28,Ro,2,0,"td",74)(29,Go,2,1,"td",73)(30,xo,2,1,"td",73),t.k0s()),2&o){const i=t.XpG().$implicit,s=t.XpG(2);t.R7$(2),t.JRh(i.descripcionPuesto),t.R7$(2),t.JRh(i.nEmpleado),t.R7$(2),t.Lme("",i.apellidos," ",i.nombre,""),t.R7$(2),t.JRh(i.justificacion),t.R7$(2),t.JRh(i.normal),t.R7$(2),t.JRh(i.horasAusentes),t.R7$(),t.Y8G("ngIf",s.hora1),t.R7$(),t.Y8G("ngIf",s.hora2),t.R7$(),t.Y8G("ngIf",s.hora3),t.R7$(),t.Y8G("ngIf",s.hora4),t.R7$(),t.Y8G("ngIf",s.hora5),t.R7$(),t.Y8G("ngIf",s.hora6),t.R7$(),t.Y8G("ngIf",s.hora7),t.R7$(),t.Y8G("ngIf",s.hora8),t.R7$(),t.Y8G("ngIf",s.hora9),t.R7$(),t.Y8G("ngIf",s.bolsa1),t.R7$(),t.Y8G("ngIf",s.bolsa2),t.R7$(),t.Y8G("ngIf",s.bolsa3),t.R7$(),t.Y8G("ngIf",s.bolsa4),t.R7$(),t.Y8G("ngIf",s.bolsa5),t.R7$(),t.Y8G("ngIf",s.plus1&&"B"==i.plus1),t.R7$(),t.Y8G("ngIf",s.plus1&&"B"!=i.plus1),t.R7$(),t.Y8G("ngIf",s.plus2),t.R7$(),t.Y8G("ngIf",s.plus3)}}function $o(o,a){if(1&o&&(t.j41(0,"tbody",68),t.DNE(1,ko,31,25,"tr",69),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",!i.justificacion||1==i.validadoEncargadoJ)}}function Io(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",4)(1,"div",55)(2,"h5",6),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.j41(5,"button",56),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.modalRef.close())}),t.k0s()(),t.j41(6,"div",7)(7,"div",57)(8,"table",58,1)(11,"thead",59)(12,"tr",4)(13,"th",60),t.EFF(14,"Secci\xf3n"),t.k0s(),t.j41(15,"th",60),t.EFF(16,"C\xf3digo"),t.k0s(),t.j41(17,"th",60),t.EFF(18,"Empleado"),t.k0s(),t.j41(19,"th",60),t.EFF(20,"Justificaci\xf3n"),t.k0s(),t.j41(21,"th",60),t.EFF(22,"Hora normal"),t.k0s(),t.j41(23,"th",60),t.EFF(24,"Horas ausentes"),t.k0s(),t.DNE(25,ro,2,1,"th",61),t.k0s()(),t.DNE(26,$o,2,1,"tbody",62),t.k0s()()(),t.j41(27,"div",35)(28,"div",63)(29,"div",64),t.nrm(30,"input",65,2),t.j41(32,"button",66),t.bIt("click",function(){t.eBV(i);const e=t.sdS(31),n=t.XpG();return t.Njj(n.advancedSearch(e.value))}),t.nrm(33,"i",67),t.k0s()()()()()}if(2&o){const i=t.sdS(9),s=t.sdS(10),e=t.XpG();t.R7$(3),t.SpI(" Listado de Validados al ",t.i5U(4,5,e.fecha,"fullDate")," "),t.R7$(5),t.Y8G("dataSource",e.visua)("sort",s),t.R7$(17),t.Y8G("ngForOf",e.horas),t.R7$(),t.Y8G("ngForOf",i.data)}}function Mo(o,a){if(1&o){const i=t.RV6();t.j41(0,"button",79),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.siValidar(e.empleado))}),t.EFF(1,"Validar"),t.k0s()}}function yo(o,a){1&o&&(t.j41(0,"button",80),t.nrm(1,"span",81),t.j41(2,"span",82),t.EFF(3,"Loading..."),t.k0s()())}function Ho(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h5",6)(3,"p",25),t.EFF(4,"\xbfQuiere validar a N\xb0 empleado "),t.j41(5,"strong"),t.EFF(6),t.k0s(),t.EFF(7,"?"),t.k0s()()(),t.j41(8,"div",7)(9,"div",12)(10,"strong"),t.EFF(11),t.k0s()()(),t.j41(12,"div",10),t.DNE(13,Mo,2,0,"button",76)(14,yo,4,0,"button",77),t.j41(15,"button",78),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.no())}),t.EFF(16,"Salir"),t.k0s()()()}if(2&o){const i=t.XpG();t.R7$(6),t.SpI(" ",i.empleado.nEmpleado,""),t.R7$(5),t.Lme("",i.empleado.nombre," ",i.empleado.apellidos," "),t.R7$(2),t.Y8G("ngIf",!i.validando),t.R7$(),t.Y8G("ngIf",i.validando)}}let h=(()=>{class o{constructor(i,s,e,n,l){this.modalRef=i,this._empleados=s,this._config=e,this._alerta=n,this._control=l,this.param=null,this.comentEmp=null,this.nombre=null,this.apellidos=null,this.idServicio=null,this.habilitarE=null,this.habilitarE1=null,this.habilitarE11=null,this.fecha=null,this.empleadoList=null,this.empleado=null,this.visua=null,this.idPlantilla=null,this.validando=!1}advancedSearch(i){this.table.search(i)}ngOnInit(){this.getContolHoras()}siEditar1(){this.modalRef.close(this.habilitarE1?"habilitarE1F":"habilitarE1T")}siEditar(){this.modalRef.close(this.habilitarE?"habilitarEF":"habilitarET")}siEditar11(){this.modalRef.close(this.habilitarE11?"habilitarE11F":"habilitarE11T")}addInfoError(i){i.value.fecha>this.fecha?alert("No puedes adivinar el futuro!!!"):this._control.addErrorInfo(i.value).subscribe(s=>{"success"==s?(this.fechaF=null,this.empleadoF=null,this.comentF=null,this._alerta.openToast1("Informe de error correcto...","bg-success text-white","OK")):this.modalRef.close("closeMessage")})}no(){this.modalRef.close("error")}getContolHoras(){this._control.configHoras(this.idServicio).subscribe(i=>{this.horas=i;for(let s=0;s<this.horas.length;s++)"hora1"==this.horas[s].columna&&(this.hora1=!0),"hora2"==this.horas[s].columna&&(this.hora2=!0),"hora3"==this.horas[s].columna&&(this.hora3=!0),"hora4"==this.horas[s].columna&&(this.hora4=!0),"hora5"==this.horas[s].columna&&(this.hora5=!0),"hora6"==this.horas[s].columna&&(this.hora6=!0),"hora7"==this.horas[s].columna&&(this.hora7=!0),"hora8"==this.horas[s].columna&&(this.hora8=!0),"hora9"==this.horas[s].columna&&(this.hora9=!0),"bolsa1"==this.horas[s].columna&&(this.bolsa1=!0),"bolsa2"==this.horas[s].columna&&(this.bolsa2=!0),"bolsa3"==this.horas[s].columna&&(this.bolsa3=!0),"bolsa4"==this.horas[s].columna&&(this.bolsa4=!0),"bolsa5"==this.horas[s].columna&&(this.bolsa5=!0),"plus1"==this.horas[s].columna&&(this.plus1=!0),"plus2"==this.horas[s].columna&&(this.plus2=!0),"plus3"==this.horas[s].columna&&(this.plus3=!0)})}siValidar(i){this.validando=!0,this._control.validarEmpleado(i.fechaTrabajo,i.nEmpleado,i.idPlantilla).subscribe(s=>{"success"==s?(this._alerta.openToast1("Empleado validado correctamente...","bg-success text-white ","\xa1OK!"),setTimeout(()=>{this.validando=!1,this.modalRef.close("closeMessage")},500)):(alert("Error al validar!"),this.modalRef.close("closeMessage"))})}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(R.kR),t.rXU(g.U),t.rXU(Li.w),t.rXU(E.c),t.rXU(v.Y))};static#i=this.\u0275cmp=t.VBU({type:o,selectors:[["app-encargados-modal"]],viewQuery:function(s,e){if(1&s&&t.GBs(Ui,5),2&s){let n;t.mGM(n=t.lsd())&&(e.table=n.first)}},decls:5,vars:5,consts:[["infoError","ngForm"],["table","mdbTable","sort","mdbTableSort"],["searchInput",""],["class","",4,"ngIf"],[1,""],[1,"modal-header","text-primary"],["id","exampleModalLabel",1,"modal-title","text-uppercase"],[1,"modal-body"],["class"," text-uppercase alert alert-primary",4,"ngIf"],["class"," text-uppercase text-danger text-center",4,"ngIf"],[1,"modal-footer"],["type","reset",1,"btn","btn-outline-primary",3,"click"],[1,"text-uppercase","alert","alert-primary"],[1,"text-uppercase","text-danger","text-center"],["class","pt-3 pr-2 h4",4,"ngIf"],["class","pt-3 pr-2",4,"ngIf"],[1,"col-md-12","text-center"],["type","button","class"," btn btn-sm btn-success","mdbWavesEffect","",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-success","mdbWavesEffect","",3,"click",4,"ngIf"],["type","button","class"," btn btn-sm btn-warning","mdbWavesEffect","",3,"click",4,"ngIf"],["type","button","class"," btn btn-sm btn-outline-warning","mdbWavesEffect","",3,"click",4,"ngIf"],["type","button","mdbBtn","","type","button","class","btn btn-sm btn-secondary","mdbWavesEffec","",3,"click",4,"ngIf"],["type","button","mdbBtn","","class","btn  btn-outline-secondary","mdbWavesEffect","",3,"click",4,"ngIf"],[1,"fas","fa-sign-in-alt"],[1,"pt-3","pr-2","h4"],[1,"pt-3","pr-2"],["type","button","mdbWavesEffect","",1,"btn","btn-sm","btn-success",3,"click"],[1,"fas","fa-unlock"],["type","button","mdbWavesEffect","",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"fas","fa-lock-open"],["type","button","mdbWavesEffect","",1,"btn","btn-sm","btn-warning",3,"click"],["type","button","mdbWavesEffect","",1,"btn","btn-sm","btn-outline-warning",3,"click"],["type","button","mdbBtn","","type","button","mdbWavesEffec","",1,"btn","btn-sm","btn-secondary",3,"click"],["type","button","mdbBtn","","mdbWavesEffect","",1,"btn","btn-outline-secondary",3,"click"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6"],["type","date","name","fecha","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","operario",1,"form-select",3,"ngModelChange","ngModel"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"md-form"],["fas","","icon","pencil-alt",1,"prefix"],["required","","minlength","5","id","form8","mdbInput","","name","observacion",1,"md-textarea","form-control",3,"ngModelChange","ngModel"],["for","form8"],[1,"text-danger"],[1,"col-md-6","top12"],["name","turnoE","ngModel","","required","",1,"form-select"],["value","M"],["value","T"],["value","N"],["type","hidden","required","","name","idServicio",3,"ngModelChange","ngModel"],[1,"col-md-4"],["type","submit","mdbWavesEffect","",1,"btn","btn-primary",3,"disabled"],[3,"value"],[1,"modal-header","text-primary","text-center"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive"],["mdbTable","","mdbTableSort","",1,"table","datatable-table","table-striped",3,"dataSource","sort"],[1,"tablaHead","te","text-white"],[1,"text-white"],["class","text-white",4,"ngFor","ngForOf"],["class","datatable-body",4,"ngFor","ngForOf"],[1,"col-md-6","offset-md-3"],[1,"input-group","mb-4"],["type","text","id","advanced-search","id","search-input","placeholder","Buscar empleado",1,"form-control"],["id","advanced-search-button","type","button",1,"btn","btn-primary","ripple-surface",3,"click"],[1,"fa","fa-search"],[1,"datatable-body"],[4,"ngIf"],[1,"td"],[1,"td","cursor"],[1,"text-center","td"],["class","td",4,"ngIf"],["class","td text-danger",4,"ngIf"],[1,"td","text-danger"],["type","reset","class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-primary","type","button","disabled","",4,"ngIf"],["type","reset",1,"btn","btn-danger",3,"click"],["type","reset",1,"btn","btn-primary",3,"click"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"visually-hidden"]],template:function(s,e){1&s&&t.DNE(0,zi,10,4,"div",3)(1,ao,18,8,"div",3)(2,lo,43,6,"div",3)(3,Io,34,8,"div",3)(4,Ho,17,5,"div",3),2&s&&(t.Y8G("ngIf",1==e.param),t.R7$(),t.Y8G("ngIf",2==e.param),t.R7$(),t.Y8G("ngIf",3==e.param),t.R7$(),t.Y8G("ngIf",4==e.param),t.R7$(),t.Y8G("ngIf",5==e.param))},dependencies:[c.qT,c.xH,c.y7,c.me,c.wz,c.BC,c.cb,c.YS,c.xh,c.vS,c.cV,m.Sq,m.bT,p.ZL,p.tL,m.vh],styles:["thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#7a726b}.table-responsive[_ngcontent-%COMP%]{height:630px;overflow-y:scroll}.table-sm[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.2em!important}th[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{font-size:14px}"]})}return o})();var f=d(7550);function No(o,a){1&o&&(t.j41(0,"div",46)(1,"p"),t.EFF(2,"Operario agregado. Antes de validarlo, recuerda incluir las horas trabajadas y los pluses correspondientes."),t.k0s()())}function Xo(o,a){1&o&&t.nrm(0,"i",47)}function Yo(o,a){1&o&&t.nrm(0,"i",48)}function Bo(o,a){if(1&o&&(t.j41(0,"option",52),t.EFF(1),t.k0s()),2&o){const i=a.$implicit;t.Y8G("value",i.nEmpleado),t.R7$(),t.Lme(" ",i.apellidos," ",i.nombre,"")}}function So(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",25)(1,"select",49),t.bIt("change",function(e){t.eBV(i);const n=t.XpG(2);return t.Njj(n.onChange(e))}),t.j41(2,"option",50),t.EFF(3,"Agregar Empleados"),t.k0s(),t.DNE(4,Bo,2,3,"option",51),t.k0s()()}if(2&o){const i=t.XpG(2);t.R7$(4),t.Y8G("ngForOf",i.datas)}}function Ao(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",53)(1,"form",54,1),t.bIt("ngSubmit",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(2);return t.Njj(n.addEmpl(e))}),t.j41(3,"button",55),t.EFF(4,"Agregar"),t.k0s(),t.j41(5,"input",56),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG(2);return t.DH7(n.nEmpleado,e)||(n.nEmpleado=e),t.Njj(e)}),t.k0s(),t.j41(6,"input",57),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG(2);return t.DH7(n.fecha,e)||(n.fecha=e),t.Njj(e)}),t.k0s()()()}if(2&o){const i=t.XpG(2);t.R7$(5),t.R50("ngModel",i.nEmpleado),t.R7$(),t.R50("ngModel",i.fecha)}}function Do(o,a){1&o&&(t.j41(0,"td"),t.EFF(1,"Validar"),t.k0s())}function Vo(o,a){if(1&o&&(t.j41(0,"td",58),t.EFF(1),t.k0s()),2&o){const i=a.$implicit;t.R7$(),t.SpI(" ",i.descripcion," ")}}function Oo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",74),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,n=t.XpG(3);return t.Njj(n.validar(e,"frame","frame1"))}),t.nrm(1,"i",75),t.k0s()}}function Jo(o,a){if(1&o&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&o){const i=a.$implicit;t.Y8G("value",i.idJustificacion),t.R7$(),t.SpI(" ",i.detallesJ,"")}}function wo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",78,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora1,e)||(n.hora1=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora1",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora1)}}function Po(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",79,4),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora2,e)||(n.hora2=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora2",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora2)}}function Lo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",80,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora3,e)||(n.hora3=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora3",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora3)}}function Uo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",81,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora4,e)||(n.hora4=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora4",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora4)}}function Wo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",82,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora5,e)||(n.hora5=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora5",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora5)}}function Qo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",83,5),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora6,e)||(n.hora6=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora6",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora6)}}function zo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",84,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora7,e)||(n.hora7=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora7",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora7)}}function Ko(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",85,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora8,e)||(n.hora8=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora8",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora8)}}function Zo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",77)(1,"input",86,3),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.hora9,e)||(n.hora9=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"hora9",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.hora9)}}function qo(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",87)(1,"input",88,6),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.bolsa1,e)||(n.bolsa1=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"bolsa1",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.bolsa1)}}function te(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",87)(1,"input",89,7),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.bolsa2,e)||(n.bolsa2=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"bolsa2",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.bolsa2)}}function ie(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",87)(1,"input",90,8),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.bolsa3,e)||(n.bolsa3=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"bolsa3",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.bolsa3)}}function oe(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",91)(1,"input",92,9),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.bolsa4,e)||(n.bolsa4=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"bolsa4",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.bolsa4)}}function ee(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",91)(1,"input",93,10),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.bolsa5,e)||(n.bolsa5=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.sdS(2),n=t.XpG(),l=n.$implicit,r=n.index,_=t.XpG(3);return t.Njj(_.onClick(l.fechaTrabajo,l.nEmpleado,e,"bolsa5",l.idPlantilla,r))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.bolsa5)}}function se(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",94)(1,"input",95,11),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.plus1,e)||(n.plus1=e),t.Njj(e)}),t.bIt("blur",function(e){t.eBV(i);const n=t.sdS(2),l=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.onClick(l.fechaTrabajo,l.nEmpleado,n,"plus1",l.idPlantilla,e))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.plus1)}}function ae(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",94)(1,"input",96,12),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.plus2,e)||(n.plus2=e),t.Njj(e)}),t.bIt("blur",function(e){t.eBV(i);const n=t.sdS(2),l=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.onClick(l.fechaTrabajo,l.nEmpleado,n,"plus2",l.idPlantilla,e))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.plus2)}}function ne(o,a){if(1&o){const i=t.RV6();t.j41(0,"td",94)(1,"input",97,13),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG().$implicit;return t.DH7(n.plus3,e)||(n.plus3=e),t.Njj(e)}),t.bIt("blur",function(e){t.eBV(i);const n=t.sdS(2),l=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.onClick(l.fechaTrabajo,l.nEmpleado,n,"plus3",l.idPlantilla,e))}),t.k0s()()}if(2&o){const i=t.XpG().$implicit,s=t.XpG(3);t.R7$(),t.Y8G("disabled",!s.habilitarE),t.R50("ngModel",i.plus3)}}function le(o,a){if(1&o){const i=t.RV6();t.j41(0,"tr")(1,"td",61),t.bIt("dblclick",function(){const e=t.eBV(i).$implicit,n=t.XpG(3);return t.Njj(n.func2(e.idPlantilla,"fp",e.descripcionPuesto,e.nombre,e.apellidos,e.horario))}),t.EFF(2),t.k0s(),t.DNE(3,Oo,2,0,"td",62),t.j41(4,"td",63),t.bIt("dblclick",function(){const e=t.eBV(i).$implicit,n=t.XpG(3);return t.Njj(n.verCom(e,"modal"))}),t.EFF(5),t.k0s(),t.j41(6,"td",64),t.bIt("dblclick",function(){const e=t.eBV(i).$implicit,n=t.XpG(3);return t.Njj(n.changeTurno(e.idPlantilla,e.descripcionPuesto,e.nombre,e.apellidos,e.turnoDia,"turChange"))}),t.EFF(7),t.k0s(),t.j41(8,"td",65)(9,"select",66),t.bIt("change",function(e){const n=t.eBV(i).$implicit,l=t.XpG(3);return t.Njj(l.justi(e,n.idPlantilla,"justif",n,"basicModal"))}),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG(3);return t.DH7(n.justiF,e)||(n.justiF=e),t.Njj(e)}),t.DNE(10,Jo,2,2,"option",67),t.k0s()(),t.j41(11,"td",68)(12,"input",69,2),t.bIt("change",function(){const e=t.eBV(i),n=e.$implicit,l=e.index,r=t.sdS(13),_=t.XpG(3);return t.Njj(_.hNormal(r,n.idPlantilla,l,n.horario))}),t.mxI("ngModelChange",function(e){const n=t.eBV(i).$implicit;return t.DH7(n.normal,e)||(n.normal=e),t.Njj(e)}),t.k0s()(),t.DNE(14,wo,3,2,"td",70)(15,Po,3,2,"td",70)(16,Lo,3,2,"td",70)(17,Uo,3,2,"td",70)(18,Wo,3,2,"td",70)(19,Qo,3,2,"td",70)(20,zo,3,2,"td",70)(21,Ko,3,2,"td",70)(22,Zo,3,2,"td",70)(23,qo,3,2,"td",71)(24,te,3,2,"td",71)(25,ie,3,2,"td",71)(26,oe,3,2,"td",72)(27,ee,3,2,"td",72)(28,se,3,2,"td",73)(29,ae,3,2,"td",73)(30,ne,3,2,"td",73),t.k0s()}if(2&o){const i=a.$implicit,s=t.XpG(3);t.R7$(2),t.JRh(i.descripcionPuesto),t.R7$(),t.Y8G("ngIf",!s.addEmpleadoNuevo),t.R7$(2),t.Lme("",i.apellidos," ",i.nombre,""),t.R7$(),t.FS9("mdbTooltip",i.desTurno),t.R7$(),t.JRh(i.turnoDia),t.R7$(2),t.Y8G("disabled",!s.habilitarE11),t.R50("ngModel",s.justiF),t.R7$(),t.Y8G("ngForOf",s.justifi),t.R7$(2),t.Y8G("disabled",!s.habilitarE1),t.R50("ngModel",i.normal),t.R7$(2),t.Y8G("ngIf",s.hora1),t.R7$(),t.Y8G("ngIf",s.hora2),t.R7$(),t.Y8G("ngIf",s.hora3),t.R7$(),t.Y8G("ngIf",s.hora4),t.R7$(),t.Y8G("ngIf",s.hora5),t.R7$(),t.Y8G("ngIf",s.hora6),t.R7$(),t.Y8G("ngIf",s.hora7),t.R7$(),t.Y8G("ngIf",s.hora8),t.R7$(),t.Y8G("ngIf",s.hora9),t.R7$(),t.Y8G("ngIf",s.bolsa1),t.R7$(),t.Y8G("ngIf",s.bolsa2),t.R7$(),t.Y8G("ngIf",s.bolsa3),t.R7$(),t.Y8G("ngIf",s.bolsa4),t.R7$(),t.Y8G("ngIf",s.bolsa5),t.R7$(),t.Y8G("ngIf",s.plus1),t.R7$(),t.Y8G("ngIf",s.plus2),t.R7$(),t.Y8G("ngIf",s.plus3)}}function re(o,a){if(1&o&&(t.j41(0,"tbody",59),t.DNE(1,le,31,28,"tr",60),t.k0s()),2&o){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.data)}}function _e(o,a){1&o&&(t.j41(0,"tbody")(1,"td",98),t.EFF(2,"Todo validado"),t.k0s()())}function ce(o,a){1&o&&(t.qex(0),t.j41(1,"div",99)(2,"span",100),t.nrm(3,"span",101),t.k0s()(),t.j41(4,"p",102),t.EFF(5,"Cargando resultados..."),t.k0s(),t.bVm())}function de(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",103)(1,"div",104)(2,"button",105),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.visuValidados("visuValidado"))}),t.EFF(3,"Visualizar validaci\xf3n"),t.k0s(),t.EFF(4," \xa0 \xa0 \xa0 "),t.j41(5,"button",106),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.visuErrores())}),t.EFF(6,"Informa de error"),t.k0s()()()}}function me(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.changeEncargados())}),t.EFF(4," RESPONSABLE: "),t.j41(5,"span",20),t.EFF(6,"\xa0 "),t.nrm(7,"i",21),t.EFF(8),t.k0s()(),t.j41(9,"div",17),t.nrm(10,"div",22),t.j41(11,"div",23),t.DNE(12,No,3,0,"div",24),t.k0s()()(),t.j41(13,"div",25)(14,"button",26),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.refresh())}),t.nrm(15,"i",27),t.EFF(16," Refrescar "),t.k0s(),t.EFF(17,"\xa0 \xa0 "),t.j41(18,"button",28),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.habilitarEdit())}),t.nrm(19,"i",29),t.k0s(),t.EFF(20," \xa0 \xa0 "),t.j41(21,"button",28),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.show=!e.show)}),t.DNE(22,Xo,1,0,"i",30)(23,Yo,1,0,"i",31),t.k0s(),t.nrm(24,"br"),t.k0s(),t.DNE(25,So,5,1,"div",32)(26,Ao,7,2,"div",33),t.k0s(),t.nrm(27,"br"),t.j41(28,"table",34,0)(31,"thead",35)(32,"tr")(33,"td",36),t.EFF(34,"Secci\xf3n "),t.nrm(35,"mdb-icon",37),t.k0s(),t.DNE(36,Do,2,0,"td",38),t.j41(37,"td",39),t.EFF(38,"Empleado "),t.nrm(39,"mdb-icon",37),t.k0s(),t.j41(40,"td",40),t.EFF(41,"Tur"),t.k0s(),t.j41(42,"td",41),t.EFF(43,"Justifi."),t.k0s(),t.j41(44,"td",42),t.EFF(45,"Hora normal"),t.k0s(),t.DNE(46,Vo,2,1,"td",43),t.k0s()(),t.DNE(47,re,2,1,"tbody",44)(48,_e,3,0,"tbody",38),t.k0s(),t.DNE(49,ce,6,0,"ng-container",38)(50,de,7,0,"div",45),t.k0s()}if(2&o){const i=t.sdS(30),s=t.XpG();t.R7$(8),t.SpI(" \xa0 ",s.encargado,""),t.R7$(4),t.Y8G("ngIf",s.addEmpleadoNuevo),t.R7$(10),t.Y8G("ngIf",!s.show),t.R7$(),t.Y8G("ngIf",s.show),t.R7$(2),t.Y8G("ngIf",s.show),t.R7$(),t.Y8G("ngIf",s.show),t.R7$(2),t.Y8G("dataSource",s.data)("sort",i),t.R7$(5),t.Y8G("mdbTableSort",s.data),t.R7$(3),t.Y8G("ngIf",!s.addEmpleadoNuevo),t.R7$(),t.Y8G("mdbTableSort",s.data),t.R7$(9),t.Y8G("ngForOf",s.horas),t.R7$(),t.Y8G("ngIf",!s.loading),t.R7$(),t.Y8G("ngIf",s.sinData),t.R7$(),t.Y8G("ngIf",s.loading),t.R7$(),t.Y8G("ngIf",!s.loading)}}const pe=[{path:"",children:[{path:"Control-horas-total?-encargados",component:(()=>{class o{constructor(i,s,e,n,l){this._control=i,this._alerta=s,this._emple=e,this.ruta=n,this.modalService=l,this.columnasHora=[],this.inicioM="",this.inicioT="",this.inicioN="",this.finalM="",this.finalT="",this.finalN="",this.loading=!0,this.valor=0,this.horasNormales=0,this.show=!1,this.puest=[],this.empl=[],this.optionsSelect=[{value:"8",label:"8 Horas"},{value:"7.75",label:"7.75 Horas"},{value:"7.50",label:"7.50 Horas"},{value:"7.25",label:"7.25 Horas"},{value:"7",label:"7 Horas"},{value:"6.75",label:"6.75 Horas"},{value:"6.50",label:"6.50 Horas"},{value:"6.25",label:"6.25 Horas"},{value:"6",label:"6 Horas"},{value:"5.75",label:"5.75 Horas"},{value:"5.50",label:"5.50 Horas"},{value:"5.25",label:"5.25 Horas"},{value:"5",label:"5 Horas"},{value:"4.75",label:"4.75 Horas"},{value:"4.50",label:"4.50 Horas"},{value:"4.25",label:"4.25 Horas"},{value:"4",label:"4 Horas"},{value:"3.75",label:"3.75 Horas"},{value:"3.50",label:"3.50 Horas"},{value:"3.25",label:"3.25 Horas"},{value:"3",label:"3 Horas"},{value:"2.75",label:"2.75 Horas"},{value:"2.50",label:"2.50 Horas"},{value:"2.25",label:"2.25 Horas"},{value:"2",label:"2 Horas"},{value:"1.75",label:"1.75 Horas"},{value:"1.50",label:"1.50 Horas"},{value:"1.25",label:"1.25 Horas"},{value:"1",label:"1 Horas"},{value:"0.75",label:"0.75 Horas"},{value:"0.50",label:"0.50 Horas"},{value:"0.25",label:"0.25 Horas"}]}ngOnInit(){let i=localStorage.getItem(btoa("servicio")),s=localStorage.getItem("rol"),e=localStorage.getItem("usuario");this.idServicio=atob(i),this.tipoUsuario=atob(s),this.usuario=atob(e),"E2020"!=this.tipoUsuario&&this.ruta.navigate(["Main"]),this.getContolHoras(),this.getJustificaciones(),this.getContolEmpleados(),this.getEmpleadosActivos()}habilitarEdit(){this.modalM=this.modalService.open(h,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:2,habilitarE:this.habilitarE,habilitarE1:this.habilitarE1,habilitarE11:this.habilitarE11}}),this.modalM.onClose.subscribe(i=>{i&&("habilitarE1T"==i?this.habilitarE1=!0:"habilitarE1F"==i?this.habilitarE1=!1:"habilitarET"==i?this.habilitarE=!0:"habilitarEF"==i?this.habilitarE=!1:"habilitarE11F"==i?this.habilitarE11=!1:"habilitarE11T"==i&&(this.habilitarE11=!0))})}siEditar(i){i.hide(),this.habilitarE=!this.habilitarE}siEditar1(i){i.hide(),this.habilitarE1=!this.habilitarE1}siEditar11(i){i.hide(),this.habilitarE11=!this.habilitarE11}getJustificaciones(){this._control.getJustificaciones(this.idServicio).subscribe(i=>{this.justifi=i})}getEmpleadosActivos(){this._emple.getEmplaedosActivos(this.idServicio).subscribe(i=>{"error"!=i?this.datas=i:alert("Error en el servidor:::")})}getContolHoras(){this._control.configHoras(this.idServicio).subscribe(i=>{this.horas=i;for(let s=0;s<this.horas.length;s++)"hora1"==this.horas[s].columna&&(this.hora1=!0),"hora2"==this.horas[s].columna&&(this.hora2=!0),"hora3"==this.horas[s].columna&&(this.hora3=!0),"hora4"==this.horas[s].columna&&(this.hora4=!0),"hora5"==this.horas[s].columna&&(this.hora5=!0),"hora6"==this.horas[s].columna&&(this.hora6=!0),"hora7"==this.horas[s].columna&&(this.hora7=!0),"hora8"==this.horas[s].columna&&(this.hora8=!0),"hora9"==this.horas[s].columna&&(this.hora9=!0),"bolsa1"==this.horas[s].columna&&(this.bolsa1=!0),"bolsa2"==this.horas[s].columna&&(this.bolsa2=!0),"bolsa3"==this.horas[s].columna&&(this.bolsa3=!0),"bolsa4"==this.horas[s].columna&&(this.bolsa4=!0),"bolsa5"==this.horas[s].columna&&(this.bolsa5=!0),"plus1"==this.horas[s].columna&&(this.plus1=!0),"plus2"==this.horas[s].columna&&(this.plus2=!0),"plus3"==this.horas[s].columna&&(this.plus3=!0)})}up(){scroll(0,0)}mueveReloj(){let i=new Date;this.hor=i.getHours(),this.minuto=i.getMinutes(),this.segundo=i.getSeconds(),this.hor<10&&(this.hor="0"+this.hor),this.minuto<10&&(this.minuto="0"+this.minuto),this.segundo<10&&(this.segundo="0"+this.segundo),this.horaImprimible=this.hor+":"+this.minuto,(null==this.fecha||null==this.fecha)&&(this.fecha=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate())}refresh(){location.reload(),this.getContolEmpleados(),setTimeout(()=>{this.ejecuter()},1e3)}ejecuter(){this.getContolEmpleados()}getContolEmpleados(){this.addEmpleadoNuevo=!1,this.mueveReloj(),this._control.getHorasTurnos().subscribe(i=>{if(this.horasTurnos=i,this.inicioM=this.horasTurnos[0].inicio,this.finalM=this.horasTurnos[0].final,this.inicioT=this.horasTurnos[1].inicio,this.finalT=this.horasTurnos[1].final,this.horaImprimible>=this.inicioM&&this.horaImprimible<this.finalM)this.tur="m",localStorage.removeItem("turnoEncargadosNoche"),localStorage.removeItem("turnoEncargadosTarde"),localStorage.setItem("turno",this.tur),this._control.getControlEmpleadosTM(this.idServicio).subscribe(s=>{if(this.data=[],s){this.mostrarData=!0,this.data=s,setTimeout(()=>{this.loading=!1},3e3),localStorage.setItem("fecha",this.data[0].fechaTrabajo);for(let n=0;n<this.data.length;n++)this.data[n].turno_id<6&&(this.turnoIdEncargados=this.data[n].turno_id);let e=localStorage.getItem("turnoEncargados");e||localStorage.setItem("turnoEncargados",this.turnoIdEncargados),this._control.getEncargados(e,this.idServicio).subscribe(n=>{"error"!=n&&(this.encargado=n)}),this.mostrarData=!0}else{setTimeout(()=>{this.loading=!1},3e3),this.sinData=!0,this.mostrarData=!0;let e=localStorage.getItem("turnoEncargados");this._control.getEncargados(e,this.idServicio).subscribe(n=>{"error"!=n&&(this.encargado=n)})}});else if(this.horaImprimible>=this.inicioT&&this.horaImprimible<this.finalT)this.tur="t",localStorage.removeItem("turnoEncargados"),localStorage.setItem("turno",this.tur),this._control.getControlEmpleadosTT(this.idServicio).subscribe(s=>{if(this.data=[],s){this.mostrarData=!0,this.data=s,setTimeout(()=>{this.loading=!1},3e3),localStorage.setItem("fecha",this.data[0].fechaTrabajo);for(let n=0;n<this.data.length;n++)this.data[n].turno_id<6&&(this.turnoIdEncargadosTarde=this.data[n].turno_id);let e=localStorage.getItem("turnoEncargadosTarde");e||localStorage.setItem("turnoEncargadosTarde",this.turnoIdEncargadosTarde),this._control.getEncargados(e,this.idServicio).subscribe(n=>{"error"!=n&&(this.encargado=n,this.mostrarData=!0)})}else{let e=localStorage.getItem("turnoEncargadosTarde");this._control.getEncargados(e,this.idServicio).subscribe(n=>{this.data=[],this.sinData=!0,this.mostrarData=!0,"error"!=n&&(this.encargado=n)})}});else{if(localStorage.removeItem("turnoEncargados"),localStorage.removeItem("turnoEncargadosTarde"),this.tur="n",localStorage.setItem("turno",this.tur),this.fecha=localStorage.getItem("fecha"),!this.fecha){let s=prompt("colocar fecha ej: a\xf1o-mes-dia: 2022-04-28");const e=Date.parse(s);null!=s&&e>0&&(localStorage.setItem("fecha",s),this.fecha=localStorage.getItem("fecha"))}this._control.getControlEmpleadosTN(this.fecha,this.idServicio).subscribe(s=>{if(this.data=[],s){this.mostrarData=!0,this.data=s,setTimeout(()=>{this.loading=!1},3e3);for(let n=0;n<this.data.length;n++)this.data[n].turno_id<6&&(this.turnoIdEncargadosNoche=this.data[n].turno_id);let e=localStorage.getItem("turnoEncargadosNoche");e||localStorage.setItem("turnoEncargadosNoche",this.turnoIdEncargadosNoche),this._control.getEncargados(e,this.idServicio).subscribe(n=>{"error"!=n&&(this.encargado=n,this.mostrarData=!0)})}else{let e=localStorage.getItem("turnoEncargadosNoche");this._control.getEncargados(e,this.idServicio).subscribe(n=>{"error"!=n?(this.data=[],this.sinData=!0,this.mostrarData=!0,this.encargado=n):(this.data=[],this.sinData=!0,this.mostrarData=!0)})}})}})}func2(i,s,e,n,l,r){let _=r.toLowerCase();"p"!=_?_!=this.tur?alert("No puede editar el puesto. Lo agregar\xe1 cuando lo valide..."):(this.puesto=e,this.idPla=i,this.name=n,this.lastName=l,this._emple.getPuestos(this.idServicio),this.modalM=this.modalService.open(f.Y,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:6,idPlantillaF:this.idPla,idServicio:this.idServicio,usuario:this.usuario,name:this.name,lastName:this.lastName,puestos:this.puestos}}),this.modalM.onClose.subscribe(u=>{("closeMessage"==u||"success"==u)&&this.getContolEmpleados()})):(this.puesto=e,this.idPla=i,this.name=n,this.lastName=l,this.modalM=this.modalService.open(f.Y,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:6,idPlantillaF:this.idPla,idServicio:this.idServicio,usuario:this.usuario,name:this.name,lastName:this.lastName,puestos:this.puestos}}),this.modalM.onClose.subscribe(u=>{("closeMessage"==u||"success"==u)&&this.getContolEmpleados()}))}pu(i){this.puesto_id=i}hNormal(i,s,e,n){n.toLowerCase(),this.datosVN=i.value,(null==this.datosVN||""==this.datosVN)&&(this.datosVN=null),this._control.editarHNormales(this.datosVN,s,"NO").subscribe(r=>{"success"==r&&(this._alerta.openToast1("Hora normal editada...","bg-success text-white","OK"),this.habilitarE1=!1,this.addEmpleadoNuevo=!1)})}salir(){this.getContolEmpleados(),this.modalB.hide(),this.valor=0,this.selectedValue=""}getSelectedValue(i){this.valor=i}siCambiar(i){this.valor>0?(this.horasAusentes=this.valor,this.horasAusentes>this.horasNormales?alert("Error de horas ausentes."):(i.show(),this.selectedValue="",this.modalB.hide())):this.getContolEmpleados()}justi(i,s,e,n,l){this.modalB=l,this.justiF=i.target.value,this.horasNormales=n.normal,this.fechaTrabajo=n.fechaTrabajo,this.nEmpledo=n.nEmpleado,this.emplJus=!0,this.idPlantillaF=s,100==this.justiF?(this.valor=this.horasNormales,this.horasAusentes=this.valor,e.show()):(this.modalM=this.modalService.open(f.Y,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:2,idPlantillaF:this.idPlantillaF,nEmpledo:this.nEmpledo,horasNormales:this.horasNormales,horasAusentes:this.horasAusentes,fechaTrabajo:this.fechaTrabajo,justiF:this.justiF,idServicio:this.idServicio,valor:this.valor}}),this.modalM.onClose.subscribe(r=>{("closeMessage"==r||"success"==r)&&this.getContolEmpleados()}))}siValidarJust(i,s){this._control.editarJustificante(this.justiF,this.idPlantillaF,this.fechaTrabajo,this.nEmpledo,this.horasAusentes,this.horasNormales,this.idServicio).subscribe(e=>{"success"==e&&(this._alerta.openToast1("Justificaci\xf3n asignada...","bg-success text-white","OK"),this.habilitarE11=!1,this.getContolEmpleados(),s.hide())})}no(i){i.hide(),this.habilitarE11=!1}visuValidados(i){this.fecha=localStorage.getItem("fecha"),this._control.getControlEmpleadosValidados(this.tur,localStorage.getItem("fecha"),this.idServicio).subscribe(s=>{this.visua=s,this.visua?(this.modalM=this.modalService.open(h,{containerClass:"",modalClass:"modal-fullscreen",ignoreBackdropClick:!0,data:{param:4,idServicio:this.idServicio,visua:this.visua,fecha:this.fecha}}),this.modalM.onClose.subscribe(e=>{("closeMessage"==e||"success"==e)&&this.getContolEmpleados()})):alert("FALTA LA FECHA EN EL LOCALSTORAGE")})}visuErrores(){this._emple.getEmplaedosActivos(this.idServicio).subscribe(i=>{"error"!=i?(this.empleadoList=i,this.modalM=this.modalService.open(h,{containerClass:"",modalClass:"modal-dialog-centered modal-lg",ignoreBackdropClick:!0,data:{param:3,idServicio:this.idServicio,empleadoList:this.empleadoList,fecha:this.fecha}}),this.modalM.onClose.subscribe(s=>{("closeMessage"==s||"success"==s)&&this.getContolEmpleados()})):alert("Error en el servidor:::")})}onClick(i,s,e,n,l,r){this.datosV=e.value,(null==this.datosV||""==this.datosV)&&(this.datosV=null),this._control.editplantillasColumn(i,s,this.datosV,n,l,"NO",this.idServicio).subscribe(_=>{console.log(_),"success"==_&&(this._alerta.openToast1("Campo editado...","bg-success text-white","OK"),this.habilitarE=!1,this.addEmpleadoNuevo=!1)})}validar(i,s,e){console.log(i),this.idPlantilla=i.idPlantilla;let n=i.horario.toLowerCase();"p"==n?(this.empleado=i,this.em=!0,this.modalM=this.modalService.open(h,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:5,empleado:this.empleado,idPlantilla:this.idPlantilla}}),this.modalM.onClose.subscribe(l=>{l&&this.getContolEmpleados()})):n!=this.tur?(this.modalM=this.modalService.open(f.Y,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:6,idPlantillaF:this.idPlantilla,idServicio:this.idServicio,usuario:this.usuario,name:i.nombre,lastName:i.apellidos,puestos:i.puestos}}),this.modalM.onClose.subscribe(l=>{("closeMessage"==l||"success"==l)&&setTimeout(()=>{this.modalM=this.modalService.open(h,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:5,empleado:i}}),this.modalM.onClose.subscribe(r=>{r&&this.getContolEmpleados()})},1e3)})):(this.empleado=i,this.em=!0,this.modalM=this.modalService.open(h,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:5,empleado:this.empleado,idPlantilla:this.idPlantilla}}),this.modalM.onClose.subscribe(l=>{l&&this.getContolEmpleados()}))}siValidar1(i,s){this._control.validarEmpleadoAdd(i.value).subscribe(e=>{"success"==e?(this.getContolEmpleados(),s.hide(),this._alerta.openToast1("Empleado validado correctamente...","bg-success text-white","OK"),this.habilitarE11=!1,this.habilitarE=!1,this.habilitarE1=!1):alert("Error al validar!")})}onChange(i){console.log(i.target.value),this.nEmpleado=i.target.value;for(let s=0;s<this.data.length;s++)this.data[s].nEmpleado==i.target.value&&(alert("El empleado seleccionado ya est\xe1 en la lista..."),this.nEmpleado=null,this.show=!1)}puestosAdd(i){this.puestoId=i}addEmpl(i){this._control.getEmpleadoPlantilla(i.value).subscribe(s=>{if(this.empl=s,1==this.empl[0].validado&&null==this.empl[0].justificacion)return this._alerta.openToast1("El empleado ya fue validado, y no lo podr\xe1 agregar otra vez...","bg-danger text-white","ERROR");this.empl[0].justificacion||"V"==this.empl[0].horario?(confirm("El trabajador tiene una justificaci\xf3n, \xbfEst\xe1s seguro que quieres agregarlo?")?(this.empl[0].horario.toLowerCase()!=this.tur&&(this.addEmpleadoNuevo=!0),null!=this.data||null!=this.data?this.data.unshift(...this.empl):(this.data=[],this.sinData=!1,this.data=this.empl,this._alerta.openToast1("Empleado agregado correctamente...","bg-success text-white","OK"))):(this._alerta.openToast1("Se rechaz\xf3, agregar al Empleado ...","bg-danger text-white","ERROR"),this.show=!1),this.show=!1):(this.empl[0].horario.toLowerCase()!=this.tur&&(this.addEmpleadoNuevo=!(this.empl[0].hora1>0||this.empl[0].hora2>0||this.empl[0].hora3>0||this.empl[0].hora4>0||this.empl[0].hora5>0||this.empl[0].hora6>0)),null!=this.data||null!=this.data?this.data.unshift(...this.empl):(this.data=[],this.sinData=!1,this.data=this.empl,this._alerta.openToast1("Empleado agregado correctamente...","bg-success text-white","OK")),this.show=!1)}),console.log(this.data)}camPuesto(i,s){this._control.cambioPuest(i.value).subscribe(e=>{"success"==e&&(this.getContolEmpleados(),this._alerta.openToast1("Cambio de puesto correcto...","bg-success text-white","OK"),s.hide())})}changeTurno(i,s,e,n,l,r){this.turModal=r,this.idPlant=i,this.name=e,this.lastName=n,this.turnoOriginal=l,this.modalM=this.modalService.open(f.Y,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:7,name:this.name,lastName:this.lastName,usuario:this.usuario,idServicio:this.idServicio,idPlantillaF:this.idPlant,turnoOriginal:this.turnoOriginal}}),this.modalM.onClose.subscribe(_=>{("closeMessage"==_||"success"==_)&&this.getContolEmpleados()})}tu(i){this.turno_id=i.target.value}camTurno(i,s){this._control.cambioTurno(i.value).subscribe(e=>{"success"==e&&(this.getContolEmpleados(),this._alerta.openToast1("Cambio de turno correcto...","bg-success text-white","OK"),s.hide())})}verCom(i,s){this.comentEmp=i.comentarios,this.apellidos=i.apellidos,this.nombre=i.nombre,this.modalM=this.modalService.open(h,{containerClass:"right",modalClass:"modal-side modal-top-right",ignoreBackdropClick:!0,data:{param:1,nombre:this.nombre,apellidos:this.apellidos,usuario:this.usuario,comentEmp:this.comentEmp}}),this.modalM.onClose.subscribe(e=>{})}changeEncargados(){let i=prompt("Agregar turno (Solo n\xfameros)");i>0&&i<6?(localStorage.setItem("turnoEncargadosTarde",i),location.reload()):alert("Solo acepta n\xfameros del 1 al 5")}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(v.Y),t.rXU(E.c),t.rXU(g.U),t.rXU(b.Ix),t.rXU(R.G$))};static#i=this.\u0275cmp=t.VBU({type:o,selectors:[["app-horas-e"]],decls:3,vars:1,consts:[["table","mdbTable","sort","mdbTableSort"],["addE","ngForm"],["nNormal",""],["datos",""],["datos1",""],["datos6",""],["bolsa1",""],["bolsa2",""],["bolsa3",""],["bolsa4",""],["bolsa5",""],["plus1",""],["plus2",""],["plus3",""],[1,"top","animate__animated","animate__fadeIn"],["class","top animated fadeIn","id","top-section",4,"ngIf"],["id","top-section",1,"top","animated","fadeIn"],[1,"row"],[1,"col-md-4"],[1,"alert","alert-secondary","cursor",3,"click"],[1,"text-dark","text-uppercase"],[1,"fas","fa-user-check"],[1,"col-md-2"],[1,"col-md-11"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-3","topB"],["mdbBtn","","type","button","mdbWavesEffect","",1,"btn","btn-info",3,"click"],[1,"fas","fa-sync"],["mdbBtn","","type","button","mdbWavesEffect","",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],["class","fas fa-plus",4,"ngIf"],["class","fas fa-minus",4,"ngIf"],["class","col-md-3 topB",4,"ngIf"],["class","col-md-2 topB",4,"ngIf"],["mdbTable","","mdbTableSort","",1,"table","datatable-table","table-sm",3,"dataSource","sort"],[1,"grey","lighten-1","text-white"],["sortBy","descripcionPuesto","width","110",1,"cursor",3,"mdbTableSort"],["fas","","icon","sort"],[4,"ngIf"],["sortBy","apellidos",1,"cursor",3,"mdbTableSort"],["width","20"],["width","70"],["width","98"],["scope","col",4,"ngFor","ngForOf"],["class","datatable-body",4,"ngIf"],["class","row","id","up-section",4,"ngIf"],[1,"alert","alert-danger"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],["name","","id","",1,"form-select",3,"change"],["value","5","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-2","topB"],[3,"ngSubmit"],["type","submit",1,"btn","btn-dark"],["type","hidden","name","nEmpleado",3,"ngModelChange","ngModel"],["type","hidden","name","fechaTrabajo","required","",3,"ngModelChange","ngModel"],["scope","col"],[1,"datatable-body"],[4,"ngFor","ngForOf"],["width","110","mdbTooltip","Editar puesto doble click.","placement","right",1,"cursor",3,"dblclick"],["width","60","class","text-center  cursor text-primary",3,"click",4,"ngIf"],["width","110",1,"cursor",3,"dblclick"],["width","32","placement","top",1,"cursor",3,"dblclick","mdbTooltip"],["width","70",1,"text-center"],["name","justificacion",1,"form-select",3,"change","ngModelChange","disabled","ngModel"],["class","text-uppercase",3,"value",4,"ngFor","ngForOf"],["width","80",1,"text-center"],["width","80","type","number","onkeydown","return event.keyCode !== 69",1,"form-control",3,"change","ngModelChange","disabled","ngModel"],["class","td alert-darks",4,"ngIf"],["class","td alert-warnings",4,"ngIf"],["class","td alert-warning",4,"ngIf"],["class","",4,"ngIf"],["width","60",1,"text-center","cursor","text-primary",3,"click"],[1,"far","fa-save","fa-lg"],[1,"text-uppercase",3,"value"],[1,"td","alert-darks"],["width","70","type","number","name","uno",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","dos",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","tre",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","cuatro",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","cinco",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","seis",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","siete",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","ocho",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","nueve",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],[1,"td","alert-warnings"],["width","70","type","number","name","bolsa11",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","bolsa22",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","bolsa33",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],[1,"td","alert-warning"],["width","70","type","number","name","bolsa44",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],["width","70","type","number","name","bolsa55",1,"form-control",3,"ngModelChange","change","disabled","ngModel"],[1,""],["width","70","type","text","name","plus11",1,"form-control",3,"ngModelChange","blur","disabled","ngModel"],["width","70","type","text","name","plus22",1,"form-control",3,"ngModelChange","blur","disabled","ngModel"],["width","70","type","text","name","plus33",1,"form-control",3,"ngModelChange","blur","disabled","ngModel"],["colspan","17",1,"text-center","h2","text-warning"],[1,"datatable-loader","bg-light"],[1,"datatable-loader-inner"],[1,"datatable-progress","bg-primary"],[1,"text-center","text-muted","my-4"],["id","up-section",1,"row"],[1,"col-md-6","offset-md-5"],["type","button","mdbBtn","","mdbWavesEffect","",1,"btn","btn-success",3,"click"],["type","button","mdbBtn","","mdbWavesEffect","",1,"btn","btn-warning",3,"click"]],template:function(s,e){1&s&&(t.nrm(0,"app-menu"),t.j41(1,"section",14),t.DNE(2,me,51,16,"div",15),t.k0s()),2&s&&(t.R7$(2),t.Y8G("ngIf",e.mostrarData))},dependencies:[m.Sq,m.bT,j.Z,c.qT,c.xH,c.y7,c.me,c.Q0,c.wz,c.BC,c.cb,c.YS,c.vS,c.cV,p.ZL,p.tL],styles:[".topB[_ngcontent-%COMP%]{margin-top:10px}.td[_ngcontent-%COMP%]{font-size:12px}.table-sm[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.3em!important}"]})}return o})()},{path:"Consultas-year?-**",component:Pi},{path:"**",redirectTo:"Control-horas-total-encargados"}]}];let he=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#i=this.\u0275mod=t.$C({type:o});static#o=this.\u0275inj=t.G2t({imports:[b.iI.forChild(pe),b.iI]})}return o})();var ue=d(2343),fe=d(6488);let be=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#i=this.\u0275mod=t.$C({type:o});static#o=this.\u0275inj=t.G2t({imports:[m.MD,he,ue.M,F.ql,c.YN,C.xW,c.X1,p.ab,fe.X3]})}return o})()}}]);